(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,11984,e=>{"use strict";var s=e.i(43476),t=e.i(71645),a=e.i(70065),r=e.i(67881),i=e.i(94179),l=e.i(23750),n=e.i(10708),c=e.i(27341),d=e.i(62870),o=e.i(93842),x=e.i(55711),m=e.i(58041),h=e.i(58472),b=e.i(69638),p=e.i(74886),j=e.i(31343),f=e.i(3116),u=e.i(39312),g=e.i(21218),N=e.i(78894),v=e.i(31278),C=e.i(16715),w=e.i(40160),y=e.i(34439),T=e.i(66992),S=e.i(17923);function _({compact:e=!1}){let[l,n]=(0,t.useState)(!1),[c,d]=(0,t.useState)(0),o="1.0.0";return e?(0,s.jsx)(a.Card,{className:"bg-[#0a1628] border-[#1a2744]",children:(0,s.jsx)(a.CardContent,{className:"p-4",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"h-10 w-10 rounded-lg bg-gradient-to-br from-[#a855f7]/20 to-[#00ffc8]/20 flex items-center justify-center",children:(0,s.jsx)(x.Brain,{className:"h-5 w-5 text-[#a855f7]"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"text-sm font-medium text-white",children:"ML Model Active"}),(0,s.jsxs)("p",{className:"text-xs text-[#6b7b9a]",children:["Logistic Regression v",o]})]})]}),(0,s.jsxs)("div",{className:"text-right",children:[(0,s.jsxs)("p",{className:"text-lg font-bold text-[#00ffc8]",children:["99.91","%"]}),(0,s.jsx)("p",{className:"text-xs text-[#6b7b9a]",children:"Accuracy"})]})]})})}):(0,s.jsxs)(a.Card,{className:"bg-[#0a1628] border-[#1a2744]",children:[(0,s.jsx)(a.CardHeader,{children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"h-12 w-12 rounded-lg bg-gradient-to-br from-[#a855f7]/20 to-[#00ffc8]/20 flex items-center justify-center",children:(0,s.jsx)(x.Brain,{className:"h-6 w-6 text-[#a855f7]"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)(a.CardTitle,{className:"text-white",children:"Trained ML Model"}),(0,s.jsxs)(a.CardDescription,{className:"text-[#6b7b9a]",children:["Logistic Regression"," • Version ",o]})]})]}),(0,s.jsxs)(i.Badge,{className:"bg-emerald-500/20 text-emerald-400 border-emerald-500/30",children:[(0,s.jsx)(b.CheckCircle,{className:"h-3 w-3 mr-1"}),"Production Ready"]})]})}),(0,s.jsxs)(a.CardContent,{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"p-4 rounded-lg bg-[#080c14] border border-[#1a2744]",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,s.jsx)(m.Database,{className:"h-4 w-4 text-[#00ffc8]"}),(0,s.jsx)("span",{className:"text-sm font-medium text-white",children:"Training Dataset"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-2xl font-bold text-white",children:284807..toLocaleString()}),(0,s.jsx)("p",{className:"text-xs text-[#6b7b9a]",children:"Total Transactions"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-2xl font-bold text-red-400",children:492}),(0,s.jsx)("p",{className:"text-xs text-[#6b7b9a]",children:"Fraud Cases (0.17%)"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-2xl font-bold text-[#00ffc8]",children:30}),(0,s.jsx)("p",{className:"text-xs text-[#6b7b9a]",children:"Features (V1-V28 + Amount + Time)"})]})]}),(0,s.jsx)("p",{className:"text-xs text-[#6b7b9a] mt-3",children:"Source: Kaggle Credit Card Fraud Detection Dataset • PCA-transformed features for anonymization"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[(0,s.jsxs)("div",{className:"p-3 rounded-lg bg-[#080c14] border border-[#1a2744] text-center",children:[(0,s.jsxs)("p",{className:"text-xl font-bold text-[#00ffc8]",children:["99.91","%"]}),(0,s.jsx)("p",{className:"text-xs text-[#6b7b9a]",children:"Accuracy"})]}),(0,s.jsxs)("div",{className:"p-3 rounded-lg bg-[#080c14] border border-[#1a2744] text-center",children:[(0,s.jsxs)("p",{className:"text-xl font-bold text-[#00a8ff]",children:["87.2","%"]}),(0,s.jsx)("p",{className:"text-xs text-[#6b7b9a]",children:"Precision"})]}),(0,s.jsxs)("div",{className:"p-3 rounded-lg bg-[#080c14] border border-[#1a2744] text-center",children:[(0,s.jsxs)("p",{className:"text-xl font-bold text-[#a855f7]",children:["61.8","%"]}),(0,s.jsx)("p",{className:"text-xs text-[#6b7b9a]",children:"Recall"})]}),(0,s.jsxs)("div",{className:"p-3 rounded-lg bg-[#080c14] border border-[#1a2744] text-center",children:[(0,s.jsxs)("p",{className:"text-xl font-bold text-amber-400",children:["72.4","%"]}),(0,s.jsx)("p",{className:"text-xs text-[#6b7b9a]",children:"F1 Score"})]}),(0,s.jsxs)("div",{className:"p-3 rounded-lg bg-[#080c14] border border-[#1a2744] text-center",children:[(0,s.jsxs)("p",{className:"text-xl font-bold text-emerald-400",children:["97.4","%"]}),(0,s.jsx)("p",{className:"text-xs text-[#6b7b9a]",children:"AUC-ROC"})]})]}),(0,s.jsxs)("div",{className:"p-4 rounded-lg bg-[#080c14] border border-[#1a2744]",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,s.jsx)(S.BarChart3,{className:"h-4 w-4 text-[#00ffc8]"}),(0,s.jsx)("span",{className:"text-sm font-medium text-white",children:"Top Feature Importance"})]}),(0,s.jsx)("div",{className:"space-y-2",children:[{feature:"V14",importance:.215,desc:"Transaction pattern indicator"},{feature:"V12",importance:.182,desc:"Customer behavior signal"},{feature:"V4",importance:.124,desc:"Time-based correlation"},{feature:"V10",importance:.098,desc:"Amount relationship"},{feature:"V17",importance:.087,desc:"Location pattern"}].map((e,t)=>(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("span",{className:"text-xs font-mono text-[#00ffc8] w-8",children:e.feature}),(0,s.jsx)("div",{className:"flex-1 h-2 bg-[#1a2744] rounded-full overflow-hidden",children:(0,s.jsx)("div",{className:"h-full bg-gradient-to-r from-[#00ffc8] to-[#00a8ff] rounded-full",style:{width:`${100*e.importance}%`}})}),(0,s.jsxs)("span",{className:"text-xs text-[#6b7b9a] w-20",children:[(100*e.importance).toFixed(1),"%"]})]},t))})]}),l&&(0,s.jsxs)("div",{className:"p-4 rounded-lg bg-[#080c14] border border-[#00ffc8]/30",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,s.jsx)(T.Cpu,{className:"h-4 w-4 text-[#00ffc8] animate-pulse"}),(0,s.jsx)("span",{className:"text-sm font-medium text-white",children:"Retraining Model..."})]}),(0,s.jsx)(y.Progress,{value:c,className:"h-2"}),(0,s.jsxs)("p",{className:"text-xs text-[#6b7b9a] mt-2",children:["Processing ",Math.floor(2848*c).toLocaleString()," /"," ",284807..toLocaleString()," samples"]})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(r.Button,{className:"flex-1 bg-[#00ffc8] text-[#0a0e1a] hover:bg-[#00ffc8]/90",onClick:()=>{n(!0),d(0);let e=setInterval(()=>{d(s=>s>=100?(clearInterval(e),n(!1),100):s+15*Math.random())},500)},disabled:l,children:l?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(C.RefreshCw,{className:"h-4 w-4 mr-2 animate-spin"}),"Training..."]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(u.Zap,{className:"h-4 w-4 mr-2"}),"Retrain Model"]})}),(0,s.jsxs)(r.Button,{variant:"outline",className:"border-[#1a2744] bg-[#080c14] text-white hover:bg-[#1a2744]",children:[(0,s.jsx)(g.Activity,{className:"h-4 w-4 mr-2"}),"View Metrics"]})]})]})]})}function k(){let{formatAmount:e,currency:y}=(0,o.useCurrency)(),[T,S]=(0,t.useState)(!1),[k,R]=(0,t.useState)(!1),[A,F]=(0,t.useState)(!1),[I,L]=(0,t.useState)([]),[B,M]=(0,t.useState)(null),[P,D]=(0,t.useState)({totalTransactions:0,approvedCount:0,declinedCount:0,reviewCount:0,avgProcessingTime:0,avgRiskScore:0}),[V,U]=(0,t.useState)({amount:"150.00",email:"customer@example.com",ip:"192.168.1.1",country:"US",cardBin:"424242"}),X=(0,t.useCallback)(async e=>{let s=performance.now();try{let t=await fetch("/api/analyze-risk",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({amount:e.amount,customer_email:e.email,customer_ip:e.ip,customer_country:e.country,card_bin:e.cardBin,currency:y})});if(!t.ok)throw Error(`API error: ${t.status}`);let a=await t.json(),r=Math.round(performance.now()-s);return{id:a.transaction_id,timestamp:new Date(a.timestamp),amount:e.amount,email:e.email,country:e.country,ip:e.ip,cardBin:e.cardBin,riskScore:a.risk_score,fraudProbability:a.fraud_probability,decision:a.decision,processingTime:a.processing_time_ms||r,features:a.feature_analysis||[]}}catch(e){return console.error("API call failed:",e),M(e instanceof Error?e.message:"API call failed"),null}},[y]);(0,t.useEffect)(()=>{if(!k)return;let e=["US","GB","DE","FR","JP","AU","CA","IN","BR","NG","RU","CN"],s=["john.doe@gmail.com","jane.smith@yahoo.com","test@tempmail.com","customer@business.com","user123@disposable.net","alice@company.co"],t=["424242","411111","555555","378282","400000","512345","621234"],a=setInterval(async()=>{let a=4950*Math.random()+50,r=s[Math.floor(Math.random()*s.length)],i=e[Math.floor(Math.random()*e.length)],l=t[Math.floor(Math.random()*t.length)],n=`${Math.floor(255*Math.random())}.${Math.floor(255*Math.random())}.${Math.floor(255*Math.random())}.${Math.floor(255*Math.random())}`,c=await X({amount:a,email:r,ip:n,country:i,cardBin:l});c&&(L(e=>[c,...e].slice(0,100)),D(e=>{let s=e.totalTransactions+1;return{totalTransactions:s,approvedCount:e.approvedCount+ +("approve"===c.decision),declinedCount:e.declinedCount+ +("decline"===c.decision),reviewCount:e.reviewCount+ +("review"===c.decision),avgProcessingTime:(e.avgProcessingTime*e.totalTransactions+c.processingTime)/s,avgRiskScore:(e.avgRiskScore*e.totalTransactions+c.riskScore)/s}}))},800);return()=>clearInterval(a)},[k,X]);let H=async()=>{F(!0),M(null);let e=await X({amount:Number.parseFloat(V.amount)||100,email:V.email,ip:V.ip,country:V.country,cardBin:V.cardBin});e&&(L(s=>[e,...s].slice(0,100)),D(s=>{let t=s.totalTransactions+1;return{totalTransactions:t,approvedCount:s.approvedCount+ +("approve"===e.decision),declinedCount:s.declinedCount+ +("decline"===e.decision),reviewCount:s.reviewCount+ +("review"===e.decision),avgProcessingTime:(s.avgProcessingTime*s.totalTransactions+e.processingTime)/t,avgRiskScore:(s.avgRiskScore*s.totalTransactions+e.riskScore)/t}})),F(!1)},z=`# PayGuard AI - Fraud Detection Model Training
# Based on Kaggle Credit Card Fraud Detection Dataset
# https://www.kaggle.com/mlg-ulb/creditcardfraud

import pandas as pd
import numpy as np
from sklearn.model_selection import train_test_split, cross_val_score
from sklearn.linear_model import LogisticRegression
from sklearn.preprocessing import StandardScaler
from sklearn.metrics import classification_report, roc_auc_score, confusion_matrix
import joblib
import json

# 1. Load the Kaggle Credit Card Fraud Dataset
print("Loading dataset...")
df = pd.read_csv('creditcard.csv')

print(f"Dataset shape: {df.shape}")
print(f"Fraud cases: {df['Class'].sum()} ({df['Class'].mean()*100:.3f}%)")
print(f"Normal cases: {len(df) - df['Class'].sum()}")

# 2. Prepare features and target
X = df.drop(['Class'], axis=1)  # V1-V28 + Time + Amount
y = df['Class']

# 3. Scale the Amount and Time features
scaler = StandardScaler()
X['Amount'] = scaler.fit_transform(X[['Amount']])
X['Time'] = scaler.fit_transform(X[['Time']])

# 4. Split into training and testing sets (stratified to maintain fraud ratio)
X_train, X_test, y_train, y_test = train_test_split(
    X, y, test_size=0.2, random_state=42, stratify=y
)

print(f"\\nTraining set: {len(X_train)} samples")
print(f"Test set: {len(X_test)} samples")

# 5. Train Logistic Regression model with class balancing
print("\\nTraining model...")
model = LogisticRegression(
    max_iter=1000,
    class_weight='balanced',  # Handle imbalanced data
    solver='lbfgs',
    random_state=42,
    n_jobs=-1
)

model.fit(X_train, y_train)

# 6. Evaluate model
y_pred = model.predict(X_test)
y_pred_proba = model.predict_proba(X_test)[:, 1]

print("\\n=== Model Performance ===")
print(classification_report(y_test, y_pred, target_names=['Normal', 'Fraud']))
print(f"AUC-ROC Score: {roc_auc_score(y_test, y_pred_proba):.4f}")

# Confusion Matrix
cm = confusion_matrix(y_test, y_pred)
print(f"\\nConfusion Matrix:")
print(f"  TN: {cm[0][0]:,}  FP: {cm[0][1]:,}")
print(f"  FN: {cm[1][0]:,}  TP: {cm[1][1]:,}")

# 7. Feature importance
feature_importance = pd.DataFrame({
    'feature': X.columns,
    'coefficient': model.coef_[0],
    'abs_importance': np.abs(model.coef_[0])
}).sort_values('abs_importance', ascending=False)

print("\\n=== Top 10 Most Important Features ===")
print(feature_importance.head(10).to_string(index=False))

# 8. Save model and artifacts
print("\\nSaving model...")
joblib.dump(model, 'fraud_model.pkl')
joblib.dump(scaler, 'scaler.pkl')

# Save coefficients as JSON for JavaScript implementation
coefficients = dict(zip(X.columns, model.coef_[0].tolist()))
with open('model_coefficients.json', 'w') as f:
    json.dump({
        'intercept': model.intercept_[0],
        'coefficients': coefficients,
        'feature_names': X.columns.tolist()
    }, f, indent=2)

print("\\nModel saved successfully!")
print("Files created: fraud_model.pkl, scaler.pkl, model_coefficients.json")`,E=()=>{L([]),D({totalTransactions:0,approvedCount:0,declinedCount:0,reviewCount:0,avgProcessingTime:0,avgRiskScore:0})};return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("h1",{className:"text-2xl font-bold text-white flex items-center gap-2",children:[(0,s.jsx)(x.Brain,{className:"h-6 w-6 text-[#a855f7]"}),"ML Model Center"]}),(0,s.jsx)("p",{className:"text-[#6b7b9a] mt-1",children:"Trained fraud detection model with live API testing"})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsxs)(i.Badge,{className:"bg-emerald-500/20 text-emerald-400 border-emerald-500/30 py-1.5 px-3",children:[(0,s.jsx)(b.CheckCircle,{className:"h-3 w-3 mr-1"}),"Model Active"]}),(0,s.jsx)(i.Badge,{className:"bg-[#a855f7]/20 text-[#a855f7] border-[#a855f7]/30 py-1.5 px-3",children:"v1.0.0"})]})]}),(0,s.jsxs)("div",{className:"grid gap-4 md:grid-cols-6",children:[(0,s.jsx)(a.Card,{className:"bg-[#0a1628]/80 border-[#1a2744]",children:(0,s.jsxs)(a.CardContent,{className:"p-4",children:[(0,s.jsx)("p",{className:"text-xs text-[#6b7b9a]",children:"Total Analyzed"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-white font-mono",children:P.totalTransactions})]})}),(0,s.jsx)(a.Card,{className:"bg-[#0a1628]/80 border-[#1a2744]",children:(0,s.jsxs)(a.CardContent,{className:"p-4",children:[(0,s.jsx)("p",{className:"text-xs text-[#6b7b9a]",children:"Approved"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-emerald-400 font-mono",children:P.approvedCount})]})}),(0,s.jsx)(a.Card,{className:"bg-[#0a1628]/80 border-[#1a2744]",children:(0,s.jsxs)(a.CardContent,{className:"p-4",children:[(0,s.jsx)("p",{className:"text-xs text-[#6b7b9a]",children:"Flagged"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-amber-400 font-mono",children:P.reviewCount})]})}),(0,s.jsx)(a.Card,{className:"bg-[#0a1628]/80 border-[#1a2744]",children:(0,s.jsxs)(a.CardContent,{className:"p-4",children:[(0,s.jsx)("p",{className:"text-xs text-[#6b7b9a]",children:"Declined"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-red-400 font-mono",children:P.declinedCount})]})}),(0,s.jsx)(a.Card,{className:"bg-[#0a1628]/80 border-[#1a2744]",children:(0,s.jsxs)(a.CardContent,{className:"p-4",children:[(0,s.jsx)("p",{className:"text-xs text-[#6b7b9a]",children:"Avg Latency"}),(0,s.jsxs)("p",{className:"text-2xl font-bold text-[#00ffc8] font-mono",children:[P.avgProcessingTime.toFixed(0),"ms"]})]})}),(0,s.jsx)(a.Card,{className:"bg-[#0a1628]/80 border-[#1a2744]",children:(0,s.jsxs)(a.CardContent,{className:"p-4",children:[(0,s.jsx)("p",{className:"text-xs text-[#6b7b9a]",children:"Avg Risk"}),(0,s.jsxs)("p",{className:"text-2xl font-bold text-[#00a8ff] font-mono",children:[P.avgRiskScore.toFixed(1),"%"]})]})})]}),B&&(0,s.jsx)(a.Card,{className:"bg-red-500/10 border-red-500/30",children:(0,s.jsxs)(a.CardContent,{className:"p-4 flex items-center gap-3",children:[(0,s.jsx)(N.AlertTriangle,{className:"h-5 w-5 text-red-400"}),(0,s.jsx)("span",{className:"text-red-400",children:B}),(0,s.jsx)(r.Button,{variant:"ghost",size:"sm",onClick:()=>M(null),className:"ml-auto text-red-400",children:"Dismiss"})]})}),(0,s.jsx)(_,{}),(0,s.jsxs)(c.Tabs,{defaultValue:"live",className:"space-y-4",children:[(0,s.jsxs)(c.TabsList,{className:"bg-[#0a1628] border border-[#1a2744]",children:[(0,s.jsxs)(c.TabsTrigger,{value:"live",className:"data-[state=active]:bg-[#1a2744] data-[state=active]:text-[#00ffc8]",children:[(0,s.jsx)(g.Activity,{className:"h-4 w-4 mr-2"}),"Live Testing"]}),(0,s.jsxs)(c.TabsTrigger,{value:"history",className:"data-[state=active]:bg-[#1a2744] data-[state=active]:text-[#00ffc8]",children:[(0,s.jsx)(f.Clock,{className:"h-4 w-4 mr-2"}),"Transaction History"]}),(0,s.jsxs)(c.TabsTrigger,{value:"training",className:"data-[state=active]:bg-[#1a2744] data-[state=active]:text-[#00ffc8]",children:[(0,s.jsx)(h.Code,{className:"h-4 w-4 mr-2"}),"Training Code"]}),(0,s.jsxs)(c.TabsTrigger,{value:"dataset",className:"data-[state=active]:bg-[#1a2744] data-[state=active]:text-[#00ffc8]",children:[(0,s.jsx)(m.Database,{className:"h-4 w-4 mr-2"}),"Dataset Info"]})]}),(0,s.jsx)(c.TabsContent,{value:"live",children:(0,s.jsxs)("div",{className:"grid gap-6 lg:grid-cols-2",children:[(0,s.jsxs)(a.Card,{className:"bg-[#0a1628]/80 border-[#1a2744]",children:[(0,s.jsxs)(a.CardHeader,{children:[(0,s.jsxs)(a.CardTitle,{className:"text-white flex items-center gap-2",children:[(0,s.jsx)(u.Zap,{className:"h-5 w-5 text-[#00ffc8]"}),"Single Transaction Test"]}),(0,s.jsx)(a.CardDescription,{className:"text-[#6b7b9a]",children:"Run a single transaction through the real ML model API"})]}),(0,s.jsxs)(a.CardContent,{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)(n.Label,{className:"text-[#6b7b9a]",children:["Amount (",y,")"]}),(0,s.jsx)(l.Input,{value:V.amount,onChange:e=>U({...V,amount:e.target.value}),className:"bg-[#080c14] border-[#1a2744] text-white",placeholder:"150.00"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(n.Label,{className:"text-[#6b7b9a]",children:"Country"}),(0,s.jsxs)(d.Select,{value:V.country,onValueChange:e=>U({...V,country:e}),children:[(0,s.jsx)(d.SelectTrigger,{className:"bg-[#080c14] border-[#1a2744] text-white",children:(0,s.jsx)(d.SelectValue,{})}),(0,s.jsxs)(d.SelectContent,{className:"bg-[#0a1628] border-[#1a2744]",children:[(0,s.jsx)(d.SelectItem,{value:"US",className:"text-white",children:"United States"}),(0,s.jsx)(d.SelectItem,{value:"GB",className:"text-white",children:"United Kingdom"}),(0,s.jsx)(d.SelectItem,{value:"DE",className:"text-white",children:"Germany"}),(0,s.jsx)(d.SelectItem,{value:"IN",className:"text-white",children:"India"}),(0,s.jsx)(d.SelectItem,{value:"NG",className:"text-white",children:"Nigeria (High Risk)"}),(0,s.jsx)(d.SelectItem,{value:"RU",className:"text-white",children:"Russia (High Risk)"}),(0,s.jsx)(d.SelectItem,{value:"CN",className:"text-white",children:"China (High Risk)"})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(n.Label,{className:"text-[#6b7b9a]",children:"Email"}),(0,s.jsx)(l.Input,{value:V.email,onChange:e=>U({...V,email:e.target.value}),className:"bg-[#080c14] border-[#1a2744] text-white",placeholder:"customer@example.com"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(n.Label,{className:"text-[#6b7b9a]",children:"Card BIN"}),(0,s.jsxs)(d.Select,{value:V.cardBin,onValueChange:e=>U({...V,cardBin:e}),children:[(0,s.jsx)(d.SelectTrigger,{className:"bg-[#080c14] border-[#1a2744] text-white",children:(0,s.jsx)(d.SelectValue,{})}),(0,s.jsxs)(d.SelectContent,{className:"bg-[#0a1628] border-[#1a2744]",children:[(0,s.jsx)(d.SelectItem,{value:"424242",className:"text-white",children:"424242 (Visa)"}),(0,s.jsx)(d.SelectItem,{value:"555555",className:"text-white",children:"555555 (Mastercard)"}),(0,s.jsx)(d.SelectItem,{value:"378282",className:"text-white",children:"378282 (Amex)"}),(0,s.jsx)(d.SelectItem,{value:"411111",className:"text-white",children:"411111 (Test Card)"}),(0,s.jsx)(d.SelectItem,{value:"400000",className:"text-white",children:"400000 (High Risk)"})]})]})]}),(0,s.jsxs)("div",{className:"col-span-2",children:[(0,s.jsx)(n.Label,{className:"text-[#6b7b9a]",children:"IP Address"}),(0,s.jsx)(l.Input,{value:V.ip,onChange:e=>U({...V,ip:e.target.value}),className:"bg-[#080c14] border-[#1a2744] text-white",placeholder:"192.168.1.1"})]})]}),(0,s.jsx)(r.Button,{onClick:H,disabled:A,className:"w-full bg-gradient-to-r from-[#00ffc8] to-[#00a8ff] text-[#0a0e1a] font-bold",children:A?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(v.Loader2,{className:"h-4 w-4 mr-2 animate-spin"}),"Analyzing..."]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(j.Play,{className:"h-4 w-4 mr-2"}),"Run Analysis"]})}),I.length>0&&(0,s.jsxs)("div",{className:"p-4 rounded-lg bg-[#080c14] border border-[#1a2744] space-y-3",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("span",{className:"text-sm text-[#6b7b9a]",children:"Latest Result"}),(0,s.jsx)(i.Badge,{className:"approve"===I[0].decision?"bg-emerald-500/20 text-emerald-400 border-emerald-500/30":"review"===I[0].decision?"bg-amber-500/20 text-amber-400 border-amber-500/30":"bg-red-500/20 text-red-400 border-red-500/30",children:I[0].decision.toUpperCase()})]}),(0,s.jsxs)("div",{className:"grid grid-cols-3 gap-4 text-center",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs text-[#6b7b9a]",children:"Risk Score"}),(0,s.jsxs)("p",{className:"text-xl font-bold font-mono text-white",children:[I[0].riskScore,"%"]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs text-[#6b7b9a]",children:"Fraud Prob"}),(0,s.jsxs)("p",{className:"text-xl font-bold font-mono text-white",children:[(100*I[0].fraudProbability).toFixed(2),"%"]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs text-[#6b7b9a]",children:"Latency"}),(0,s.jsxs)("p",{className:"text-xl font-bold font-mono text-[#00ffc8]",children:[I[0].processingTime,"ms"]})]})]}),I[0].features.length>0&&(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("p",{className:"text-xs text-[#6b7b9a]",children:"Top Contributing Features"}),I[0].features.slice(0,5).map((e,t)=>(0,s.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[(0,s.jsx)("span",{className:"text-white font-mono",children:e.feature}),(0,s.jsxs)("span",{className:"increases_risk"===e.impact?"text-red-400":"text-emerald-400",children:[e.contribution>0?"+":"",e.contribution.toFixed(4)]})]},t))]})]})]})]}),(0,s.jsxs)(a.Card,{className:"bg-[#0a1628]/80 border-[#1a2744]",children:[(0,s.jsxs)(a.CardHeader,{children:[(0,s.jsxs)(a.CardTitle,{className:"text-white flex items-center gap-2",children:[(0,s.jsx)(g.Activity,{className:"h-5 w-5 text-[#a855f7]"}),"Live Simulation",k&&(0,s.jsxs)(i.Badge,{className:"ml-2 bg-emerald-500/20 text-emerald-400 border-emerald-500/30 animate-pulse",children:[(0,s.jsx)(C.RefreshCw,{className:"h-3 w-3 mr-1 animate-spin"}),"Running"]})]}),(0,s.jsx)(a.CardDescription,{className:"text-[#6b7b9a]",children:"Simulate continuous transaction flow with real API calls"})]}),(0,s.jsxs)(a.CardContent,{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"p-4 rounded-lg bg-[#080c14] border border-[#1a2744]",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsx)("span",{className:"text-sm text-[#6b7b9a]",children:"Transactions/sec"}),(0,s.jsx)("span",{className:"font-mono text-white",children:"~1.25"})]}),(0,s.jsx)("div",{className:"h-2 bg-[#1a2744] rounded-full overflow-hidden",children:(0,s.jsx)("div",{className:`h-full bg-gradient-to-r from-[#00ffc8] to-[#00a8ff] transition-all ${k?"animate-pulse":""}`,style:{width:k?"100%":"0%"}})})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(r.Button,{onClick:()=>R(!k),className:`flex-1 ${k?"bg-red-500/20 text-red-400 border border-red-500/30 hover:bg-red-500/30":"bg-[#a855f7]/20 text-[#a855f7] border border-[#a855f7]/30 hover:bg-[#a855f7]/30"}`,children:k?"Stop Simulation":"Start Live Simulation"}),(0,s.jsx)(r.Button,{variant:"outline",onClick:E,className:"border-[#1a2744] text-[#6b7b9a] hover:text-white bg-transparent",children:"Clear"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-3 gap-2 text-center",children:[(0,s.jsxs)("div",{className:"p-3 rounded bg-emerald-500/10 border border-emerald-500/30",children:[(0,s.jsx)("p",{className:"text-xs text-emerald-400",children:"Approved"}),(0,s.jsxs)("p",{className:"font-mono text-lg text-white",children:[P.totalTransactions>0?(P.approvedCount/P.totalTransactions*100).toFixed(1):0,"%"]})]}),(0,s.jsxs)("div",{className:"p-3 rounded bg-amber-500/10 border border-amber-500/30",children:[(0,s.jsx)("p",{className:"text-xs text-amber-400",children:"Review"}),(0,s.jsxs)("p",{className:"font-mono text-lg text-white",children:[P.totalTransactions>0?(P.reviewCount/P.totalTransactions*100).toFixed(1):0,"%"]})]}),(0,s.jsxs)("div",{className:"p-3 rounded bg-red-500/10 border border-red-500/30",children:[(0,s.jsx)("p",{className:"text-xs text-red-400",children:"Declined"}),(0,s.jsxs)("p",{className:"font-mono text-lg text-white",children:[P.totalTransactions>0?(P.declinedCount/P.totalTransactions*100).toFixed(1):0,"%"]})]})]}),(0,s.jsx)("div",{className:"space-y-1 max-h-48 overflow-y-auto",children:I.slice(0,10).map(t=>(0,s.jsxs)("div",{className:"flex items-center justify-between py-2 px-3 rounded bg-[#080c14] text-xs animate-in slide-in-from-top-1",children:[(0,s.jsx)("span",{className:"text-[#6b7b9a] font-mono",children:t.timestamp.toLocaleTimeString()}),(0,s.jsx)("span",{className:"text-white",children:e(t.amount)}),(0,s.jsx)("span",{className:"text-[#6b7b9a]",children:t.country}),(0,s.jsxs)("span",{className:t.riskScore<30?"text-emerald-400":t.riskScore<70?"text-amber-400":"text-red-400",children:[t.riskScore,"%"]}),(0,s.jsx)(i.Badge,{className:`text-[10px] ${"approve"===t.decision?"bg-emerald-500/20 text-emerald-400":"review"===t.decision?"bg-amber-500/20 text-amber-400":"bg-red-500/20 text-red-400"}`,children:t.decision})]},t.id))})]})]})]})}),(0,s.jsx)(c.TabsContent,{value:"history",children:(0,s.jsxs)(a.Card,{className:"bg-[#0a1628]/80 border-[#1a2744]",children:[(0,s.jsx)(a.CardHeader,{children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)(a.CardTitle,{className:"text-white flex items-center gap-2",children:[(0,s.jsx)(f.Clock,{className:"h-5 w-5 text-[#00ffc8]"}),"Transaction History"]}),(0,s.jsxs)(a.CardDescription,{className:"text-[#6b7b9a]",children:[I.length," transactions analyzed via real API"]})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsxs)(r.Button,{variant:"outline",size:"sm",onClick:()=>{let e=new Blob([["Timestamp,Transaction ID,Amount,Email,Country,Card BIN,Risk Score,Decision,Latency (ms)",...I.map(e=>[e.timestamp.toISOString(),e.id,e.amount.toFixed(2),e.email,e.country,e.cardBin,e.riskScore,e.decision,e.processingTime].join(","))].join("\n")],{type:"text/csv"}),s=URL.createObjectURL(e),t=document.createElement("a");t.href=s,t.download=`ml-test-history-${new Date().toISOString().slice(0,10)}.csv`,t.click(),URL.revokeObjectURL(s)},disabled:0===I.length,className:"border-[#1a2744] text-[#6b7b9a] hover:text-white bg-transparent",children:[(0,s.jsx)(w.Download,{className:"h-4 w-4 mr-1"}),"Export CSV"]}),(0,s.jsx)(r.Button,{variant:"outline",size:"sm",onClick:E,className:"border-[#1a2744] text-[#6b7b9a] hover:text-white bg-transparent",children:"Clear"})]})]})}),(0,s.jsx)(a.CardContent,{children:(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"w-full text-sm",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{className:"border-b border-[#1a2744] text-[#6b7b9a]",children:[(0,s.jsx)("th",{className:"text-left py-3 px-2",children:"Time"}),(0,s.jsx)("th",{className:"text-left py-3 px-2",children:"ID"}),(0,s.jsx)("th",{className:"text-right py-3 px-2",children:"Amount"}),(0,s.jsx)("th",{className:"text-left py-3 px-2",children:"Country"}),(0,s.jsx)("th",{className:"text-right py-3 px-2",children:"Risk"}),(0,s.jsx)("th",{className:"text-center py-3 px-2",children:"Decision"}),(0,s.jsx)("th",{className:"text-right py-3 px-2",children:"Latency"}),(0,s.jsx)("th",{className:"text-left py-3 px-2",children:"Top Features"})]})}),(0,s.jsx)("tbody",{children:0===I.length?(0,s.jsx)("tr",{children:(0,s.jsxs)("td",{colSpan:8,className:"text-center py-12 text-[#6b7b9a]",children:[(0,s.jsx)(g.Activity,{className:"h-10 w-10 mx-auto mb-3 opacity-50"}),(0,s.jsx)("p",{children:"No transactions yet"}),(0,s.jsx)("p",{className:"text-xs mt-1",children:"Run a test or start the simulation"})]})}):I.map(t=>(0,s.jsxs)("tr",{className:"border-b border-[#1a2744]/50 hover:bg-[#1a2744]/20",children:[(0,s.jsx)("td",{className:"py-3 px-2 text-[#6b7b9a] font-mono text-xs",children:t.timestamp.toLocaleTimeString()}),(0,s.jsxs)("td",{className:"py-3 px-2 text-[#6b7b9a] font-mono text-xs",children:[t.id.slice(0,12),"..."]}),(0,s.jsx)("td",{className:"py-3 px-2 text-right text-white font-mono",children:e(t.amount)}),(0,s.jsx)("td",{className:"py-3 px-2 text-[#6b7b9a]",children:t.country}),(0,s.jsx)("td",{className:"py-3 px-2 text-right",children:(0,s.jsxs)("span",{className:`font-mono ${t.riskScore<30?"text-emerald-400":t.riskScore<70?"text-amber-400":"text-red-400"}`,children:[t.riskScore,"%"]})}),(0,s.jsx)("td",{className:"py-3 px-2 text-center",children:(0,s.jsx)(i.Badge,{className:"approve"===t.decision?"bg-emerald-500/20 text-emerald-400 border-emerald-500/30":"review"===t.decision?"bg-amber-500/20 text-amber-400 border-amber-500/30":"bg-red-500/20 text-red-400 border-red-500/30",children:t.decision})}),(0,s.jsxs)("td",{className:"py-3 px-2 text-right text-[#00ffc8] font-mono",children:[t.processingTime,"ms"]}),(0,s.jsx)("td",{className:"py-3 px-2 text-xs text-[#6b7b9a]",children:t.features.slice(0,3).map(e=>e.feature).join(", ")})]},t.id))})]})})})]})}),(0,s.jsx)(c.TabsContent,{value:"training",children:(0,s.jsxs)(a.Card,{className:"bg-[#0a1628]/80 border-[#1a2744]",children:[(0,s.jsx)(a.CardHeader,{children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)(a.CardTitle,{className:"text-white flex items-center gap-2",children:[(0,s.jsx)(h.Code,{className:"h-5 w-5 text-[#00ffc8]"}),"Python Training Code"]}),(0,s.jsx)(a.CardDescription,{className:"text-[#6b7b9a]",children:"Scikit-learn Logistic Regression model training script"})]}),(0,s.jsx)(r.Button,{variant:"outline",size:"sm",onClick:()=>{navigator.clipboard.writeText(z),S(!0),setTimeout(()=>S(!1),2e3)},className:"border-[#1a2744] text-[#6b7b9a] hover:text-white",children:T?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(b.CheckCircle,{className:"h-4 w-4 mr-1 text-emerald-400"}),"Copied!"]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(p.Copy,{className:"h-4 w-4 mr-1"}),"Copy Code"]})})]})}),(0,s.jsx)(a.CardContent,{children:(0,s.jsx)("pre",{className:"p-4 rounded-lg bg-[#080c14] border border-[#1a2744] overflow-x-auto text-sm",children:(0,s.jsx)("code",{className:"text-[#e4e4e7] font-mono whitespace-pre",children:z})})})]})}),(0,s.jsx)(c.TabsContent,{value:"dataset",children:(0,s.jsxs)("div",{className:"grid gap-6 lg:grid-cols-2",children:[(0,s.jsxs)(a.Card,{className:"bg-[#0a1628]/80 border-[#1a2744]",children:[(0,s.jsx)(a.CardHeader,{children:(0,s.jsxs)(a.CardTitle,{className:"text-white flex items-center gap-2",children:[(0,s.jsx)(m.Database,{className:"h-5 w-5 text-[#00ffc8]"}),"Kaggle Dataset"]})}),(0,s.jsxs)(a.CardContent,{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"p-4 rounded-lg bg-[#080c14] border border-[#1a2744]",children:[(0,s.jsx)("h4",{className:"text-white font-medium mb-2",children:"Credit Card Fraud Detection"}),(0,s.jsx)("p",{className:"text-sm text-[#6b7b9a] mb-4",children:"This dataset contains transactions made by credit cards in September 2013 by European cardholders. It presents transactions that occurred in two days, with 492 frauds out of 284,807 transactions."}),(0,s.jsxs)("a",{href:"https://www.kaggle.com/mlg-ulb/creditcardfraud",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 text-[#00ffc8] hover:underline",children:["View on Kaggle",(0,s.jsx)("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"p-3 rounded-lg bg-[#080c14] border border-[#1a2744] text-center",children:[(0,s.jsx)("p",{className:"text-2xl font-bold text-white",children:"284,807"}),(0,s.jsx)("p",{className:"text-xs text-[#6b7b9a]",children:"Total Transactions"})]}),(0,s.jsxs)("div",{className:"p-3 rounded-lg bg-[#080c14] border border-[#1a2744] text-center",children:[(0,s.jsx)("p",{className:"text-2xl font-bold text-red-400",children:"492"}),(0,s.jsx)("p",{className:"text-xs text-[#6b7b9a]",children:"Fraud Cases (0.17%)"})]}),(0,s.jsxs)("div",{className:"p-3 rounded-lg bg-[#080c14] border border-[#1a2744] text-center",children:[(0,s.jsx)("p",{className:"text-2xl font-bold text-[#00ffc8]",children:"30"}),(0,s.jsx)("p",{className:"text-xs text-[#6b7b9a]",children:"Features (V1-V28 + Time + Amount)"})]}),(0,s.jsxs)("div",{className:"p-3 rounded-lg bg-[#080c14] border border-[#1a2744] text-center",children:[(0,s.jsx)("p",{className:"text-2xl font-bold text-[#a855f7]",children:"PCA"}),(0,s.jsx)("p",{className:"text-xs text-[#6b7b9a]",children:"Principal Components"})]})]})]})]}),(0,s.jsxs)(a.Card,{className:"bg-[#0a1628]/80 border-[#1a2744]",children:[(0,s.jsx)(a.CardHeader,{children:(0,s.jsx)(a.CardTitle,{className:"text-white",children:"Feature Description"})}),(0,s.jsx)(a.CardContent,{children:(0,s.jsxs)("div",{className:"space-y-3 max-h-80 overflow-y-auto",children:[(0,s.jsxs)("div",{className:"p-3 rounded-lg bg-[#080c14] border border-[#1a2744]",children:[(0,s.jsx)("p",{className:"text-white font-medium",children:"V1 - V28"}),(0,s.jsx)("p",{className:"text-xs text-[#6b7b9a]",children:"Principal components obtained with PCA transformation. Due to confidentiality issues, the original features are not provided."})]}),(0,s.jsxs)("div",{className:"p-3 rounded-lg bg-[#080c14] border border-[#1a2744]",children:[(0,s.jsx)("p",{className:"text-white font-medium",children:"Time"}),(0,s.jsx)("p",{className:"text-xs text-[#6b7b9a]",children:"Number of seconds elapsed between this transaction and the first transaction in the dataset."})]}),(0,s.jsxs)("div",{className:"p-3 rounded-lg bg-[#080c14] border border-[#1a2744]",children:[(0,s.jsx)("p",{className:"text-white font-medium",children:"Amount"}),(0,s.jsx)("p",{className:"text-xs text-[#6b7b9a]",children:"Transaction amount. Can be used for cost-sensitive learning."})]}),(0,s.jsxs)("div",{className:"p-3 rounded-lg bg-[#080c14] border border-[#1a2744]",children:[(0,s.jsx)("p",{className:"text-white font-medium",children:"Class"}),(0,s.jsx)("p",{className:"text-xs text-[#6b7b9a]",children:"Response variable. 1 = fraud, 0 = legitimate transaction."})]})]})})]})]})})]})]})}e.s(["default",()=>k],11984)}]);