(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,99682,e=>{"use strict";var t=e.i(71645);function s(e){let s=t.useRef({value:e,previous:e});return t.useMemo(()=>(s.current.value!==e&&(s.current.previous=s.current.value,s.current.value=e),s.current.previous),[e])}e.s(["usePrevious",()=>s])},61659,e=>{"use strict";let t=(0,e.i(75254).default)("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);e.s(["CreditCard",()=>t],61659)},27341,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(81140),i=e.i(30030),r=e.i(42727),n=e.i(96626),l=e.i(48425),d=e.i(86318),c=e.i(69340),o=e.i(10772),u="Tabs",[x,m]=(0,i.createContextScope)(u,[r.createRovingFocusGroupScope]),h=(0,r.createRovingFocusGroupScope)(),[f,p]=x(u),b=s.forwardRef((e,s)=>{let{__scopeTabs:a,value:i,onValueChange:r,defaultValue:n,orientation:u="horizontal",dir:x,activationMode:m="automatic",...h}=e,p=(0,d.useDirection)(x),[b,g]=(0,c.useControllableState)({prop:i,onChange:r,defaultProp:n});return(0,t.jsx)(f,{scope:a,baseId:(0,o.useId)(),value:b,onValueChange:g,orientation:u,dir:p,activationMode:m,children:(0,t.jsx)(l.Primitive.div,{dir:p,"data-orientation":u,...h,ref:s})})});b.displayName=u;var g="TabsList",v=s.forwardRef((e,s)=>{let{__scopeTabs:a,loop:i=!0,...n}=e,d=p(g,a),c=h(a);return(0,t.jsx)(r.Root,{asChild:!0,...c,orientation:d.orientation,dir:d.dir,loop:i,children:(0,t.jsx)(l.Primitive.div,{role:"tablist","aria-orientation":d.orientation,...n,ref:s})})});v.displayName=g;var j="TabsTrigger",y=s.forwardRef((e,s)=>{let{__scopeTabs:i,value:n,disabled:d=!1,...c}=e,o=p(j,i),u=h(i),x=C(o.baseId,n),m=k(o.baseId,n),f=n===o.value;return(0,t.jsx)(r.Item,{asChild:!0,...u,focusable:!d,active:f,children:(0,t.jsx)(l.Primitive.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":m,"data-state":f?"active":"inactive","data-disabled":d?"":void 0,disabled:d,id:x,...c,ref:s,onMouseDown:(0,a.composeEventHandlers)(e.onMouseDown,e=>{d||0!==e.button||!1!==e.ctrlKey?e.preventDefault():o.onValueChange(n)}),onKeyDown:(0,a.composeEventHandlers)(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&o.onValueChange(n)}),onFocus:(0,a.composeEventHandlers)(e.onFocus,()=>{let e="manual"!==o.activationMode;f||d||!e||o.onValueChange(n)})})})});y.displayName=j;var N="TabsContent",w=s.forwardRef((e,a)=>{let{__scopeTabs:i,value:r,forceMount:d,children:c,...o}=e,u=p(N,i),x=C(u.baseId,r),m=k(u.baseId,r),h=r===u.value,f=s.useRef(h);return s.useEffect(()=>{let e=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,t.jsx)(n.Presence,{present:d||h,children:({present:s})=>(0,t.jsx)(l.Primitive.div,{"data-state":h?"active":"inactive","data-orientation":u.orientation,role:"tabpanel","aria-labelledby":x,hidden:!s,id:m,tabIndex:0,...o,ref:a,style:{...e.style,animationDuration:f.current?"0s":void 0},children:s&&c})})});function C(e,t){return`${e}-trigger-${t}`}function k(e,t){return`${e}-content-${t}`}w.displayName=N;var T=e.i(47163);function P({className:e,...s}){return(0,t.jsx)(b,{"data-slot":"tabs",className:(0,T.cn)("flex flex-col gap-2",e),...s})}function S({className:e,...s}){return(0,t.jsx)(v,{"data-slot":"tabs-list",className:(0,T.cn)("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",e),...s})}function D({className:e,...s}){return(0,t.jsx)(y,{"data-slot":"tabs-trigger",className:(0,T.cn)("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...s})}function M({className:e,...s}){return(0,t.jsx)(w,{"data-slot":"tabs-content",className:(0,T.cn)("flex-1 outline-none",e),...s})}e.s(["Tabs",()=>P,"TabsContent",()=>M,"TabsList",()=>S,"TabsTrigger",()=>D],27341)},3116,e=>{"use strict";let t=(0,e.i(75254).default)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);e.s(["Clock",()=>t],3116)},34439,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(30030),i=e.i(48425),r="Progress",[n,l]=(0,a.createContextScope)(r),[d,c]=n(r),o=s.forwardRef((e,s)=>{var a,r;let{__scopeProgress:n,value:l=null,max:c,getValueLabel:o=m,...u}=e;(c||0===c)&&!p(c)&&console.error((a=`${c}`,`Invalid prop \`max\` of value \`${a}\` supplied to \`Progress\`. Only numbers greater than 0 are valid max values. Defaulting to \`100\`.`));let x=p(c)?c:100;null===l||b(l,x)||console.error((r=`${l}`,`Invalid prop \`value\` of value \`${r}\` supplied to \`Progress\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or 100 if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`));let g=b(l,x)?l:null,v=f(g)?o(g,x):void 0;return(0,t.jsx)(d,{scope:n,value:g,max:x,children:(0,t.jsx)(i.Primitive.div,{"aria-valuemax":x,"aria-valuemin":0,"aria-valuenow":f(g)?g:void 0,"aria-valuetext":v,role:"progressbar","data-state":h(g,x),"data-value":g??void 0,"data-max":x,...u,ref:s})})});o.displayName=r;var u="ProgressIndicator",x=s.forwardRef((e,s)=>{let{__scopeProgress:a,...r}=e,n=c(u,a);return(0,t.jsx)(i.Primitive.div,{"data-state":h(n.value,n.max),"data-value":n.value??void 0,"data-max":n.max,...r,ref:s})});function m(e,t){return`${Math.round(e/t*100)}%`}function h(e,t){return null==e?"indeterminate":e===t?"complete":"loading"}function f(e){return"number"==typeof e}function p(e){return f(e)&&!isNaN(e)&&e>0}function b(e,t){return f(e)&&!isNaN(e)&&e<=t&&e>=0}x.displayName=u;var g=e.i(47163);function v({className:e,value:s,...a}){return(0,t.jsx)(o,{"data-slot":"progress",className:(0,g.cn)("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",e),...a,children:(0,t.jsx)(x,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:`translateX(-${100-(s||0)}%)`}})})}e.s(["Progress",()=>v],34439)},31343,e=>{"use strict";let t=(0,e.i(75254).default)("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);e.s(["Play",()=>t],31343)},20278,e=>{"use strict";let t=(0,e.i(75254).default)("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);e.s(["Target",()=>t],20278)},19036,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(81140),i=e.i(20783),r=e.i(30030),n=e.i(69340),l=e.i(99682),d=e.i(35804),c=e.i(48425),o="Switch",[u,x]=(0,r.createContextScope)(o),[m,h]=u(o),f=s.forwardRef((e,r)=>{let{__scopeSwitch:l,name:d,checked:o,defaultChecked:u,required:x,disabled:h,value:f="on",onCheckedChange:p,form:b,...j}=e,[y,N]=s.useState(null),w=(0,i.useComposedRefs)(r,e=>N(e)),C=s.useRef(!1),k=!y||b||!!y.closest("form"),[T=!1,P]=(0,n.useControllableState)({prop:o,defaultProp:u,onChange:p});return(0,t.jsxs)(m,{scope:l,checked:T,disabled:h,children:[(0,t.jsx)(c.Primitive.button,{type:"button",role:"switch","aria-checked":T,"aria-required":x,"data-state":v(T),"data-disabled":h?"":void 0,disabled:h,value:f,...j,ref:w,onClick:(0,a.composeEventHandlers)(e.onClick,e=>{P(e=>!e),k&&(C.current=e.isPropagationStopped(),C.current||e.stopPropagation())})}),k&&(0,t.jsx)(g,{control:y,bubbles:!C.current,name:d,value:f,checked:T,required:x,disabled:h,form:b,style:{transform:"translateX(-100%)"}})]})});f.displayName=o;var p="SwitchThumb",b=s.forwardRef((e,s)=>{let{__scopeSwitch:a,...i}=e,r=h(p,a);return(0,t.jsx)(c.Primitive.span,{"data-state":v(r.checked),"data-disabled":r.disabled?"":void 0,...i,ref:s})});b.displayName=p;var g=e=>{let{control:a,checked:i,bubbles:r=!0,...n}=e,c=s.useRef(null),o=(0,l.usePrevious)(i),u=(0,d.useSize)(a);return s.useEffect(()=>{let e=c.current,t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(o!==i&&t){let s=new Event("click",{bubbles:r});t.call(e,i),e.dispatchEvent(s)}},[o,i,r]),(0,t.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:i,...n,tabIndex:-1,ref:c,style:{...e.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function v(e){return e?"checked":"unchecked"}var j=e.i(47163);function y({className:e,...s}){return(0,t.jsx)(f,{"data-slot":"switch",className:(0,j.cn)("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...s,children:(0,t.jsx)(b,{"data-slot":"switch-thumb",className:"bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0"})})}e.s(["Switch",()=>y],19036)},89269,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(70065),i=e.i(67881),r=e.i(94179),n=e.i(19036),l=e.i(34439),d=e.i(27341),c=e.i(86536),o=e.i(75254);let u=(0,o.default)("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);var x=e.i(78894),m=e.i(69638),h=e.i(18348);let f=(0,o.default)("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);var p=e.i(61659),b=e.i(98919),g=e.i(21218),v=e.i(20278),j=e.i(17923),y=e.i(3116);let N=(0,o.default)("MousePointer",[["path",{d:"M12.586 12.586 19 19",key:"ea5xo7"}],["path",{d:"M3.688 3.037a.497.497 0 0 0-.651.651l6.5 15.999a.501.501 0 0 0 .947-.062l1.569-6.083a2 2 0 0 1 1.448-1.479l6.124-1.579a.5.5 0 0 0 .063-.947z",key:"277e5u"}]]);var w=e.i(31343);let C=(0,o.default)("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),k=(0,o.default)("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]),T=(0,o.default)("VideoOff",[["path",{d:"M10.66 6H14a2 2 0 0 1 2 2v2.5l5.248-3.062A.5.5 0 0 1 22 7.87v8.196",key:"w8jjjt"}],["path",{d:"M16 16a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h2",key:"1xawa7"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);var P=e.i(83086),S=e.i(93842);function D(){let{formatAmount:e,currency:o}=(0,S.useCurrency)(),[D,M]=(0,s.useState)(!1),[z,I]=(0,s.useState)(!1),[R,E]=(0,s.useState)(!0),[A,H]=(0,s.useState)("mouse"),[B,$]=(0,s.useState)("idle"),[F,L]=(0,s.useState)(null),[O,V]=(0,s.useState)([]),[G,q]=(0,s.useState)([]),[K,U]=(0,s.useState)([]),[X,Y]=(0,s.useState)(null),[_,W]=(0,s.useState)(!1),[Z,J]=(0,s.useState)([{id:"price",name:"Price Summary",x:20,y:100,width:340,height:160,dwellTime:0,visits:0,isConfused:!1,helpText:"This shows your order total including all items, taxes, and any discounts applied."},{id:"items",name:"Cart Items",x:20,y:280,width:340,height:180,dwellTime:0,visits:0,isConfused:!1,helpText:"Review the items in your cart. Click on any item to modify quantity or remove it."},{id:"terms",name:"Terms & Conditions",x:380,y:100,width:260,height:80,dwellTime:0,visits:0,isConfused:!1,helpText:"By checking this box, you agree to our standard terms of service and privacy policy."},{id:"payment",name:"Payment Method",x:380,y:200,width:260,height:140,dwellTime:0,visits:0,isConfused:!1,helpText:"Select your preferred payment method. All transactions are secured with 256-bit encryption."},{id:"submit",name:"Submit Button",x:380,y:360,width:260,height:70,dwellTime:0,visits:0,isConfused:!1,helpText:"Click here to complete your purchase. You can review your order before final confirmation."}]),[Q,ee]=(0,s.useState)({totalDwellTime:0,confusionCount:0,helpTriggered:0,sessionDuration:0,gazePoints:0}),et=(0,s.useRef)(null),es=(0,s.useRef)(null),ea=(0,s.useRef)(null),ei=(0,s.useRef)(Date.now()),er=(0,s.useRef)(null),en=[{name:"Premium Annual Plan",price:"INR"===o?8299:99.99,originalPrice:"INR"===o?12499:149.99},{name:"Priority Support Add-on",price:"INR"===o?1659:19.99,originalPrice:"INR"===o?2499:29.99},{name:"Advanced Analytics",price:"INR"===o?2074:24.99,originalPrice:"INR"===o?2999:35.99}],el=en.reduce((e,t)=>e+t.price,0),ed=Math.round(.18*el*100)/100,ec=el+ed,eo=(0,s.useCallback)(e=>{if(!D||!et.current)return;let t=et.current.getBoundingClientRect(),s=e.clientX-t.left,a=e.clientY-t.top;if(s>=0&&s<=t.width&&a>=0&&a<=t.height){L({x:s,y:a});let e={x:s,y:a,timestamp:Date.now()};V(t=>[...t.slice(-500),e]),ee(e=>({...e,gazePoints:e.gazePoints+1})),q(e=>{let t=20*Math.floor(s/20),i=20*Math.floor(a/20);return e.find(e=>e.x===t&&e.y===i)?e.map(e=>e.x===t&&e.y===i?{...e,intensity:Math.min(e.intensity+.02,1)}:e):[...e.slice(-1e3),{x:t,y:i,intensity:.1}]}),eu(s,a)}},[D]),eu=(0,s.useCallback)((e,t)=>{let s=null;J(a=>a.map(a=>{if(e>=a.x&&e<=a.x+a.width&&t>=a.y&&t<=a.y+a.height){s=a.id;let e=ea.current!==a.id?a.visits+1:a.visits,t=a.dwellTime+50,i=t>4e3&&e>2;return i&&!a.isConfused&&(U(e=>[...e,{zone:a.name,timestamp:new Date,type:t>6e3?"Extended hesitation":"Multiple revisits",dwellTime:t}]),Y(a.id),ee(e=>({...e,confusionCount:e.confusionCount+1,helpTriggered:e.helpTriggered+1}))),{...a,dwellTime:t,visits:e,isConfused:i}}return a})),ea.current=s},[]),ex=async()=>{$("requesting");try{let e=await navigator.mediaDevices.getUserMedia({video:{facingMode:"user",width:640,height:480}});es.current&&(es.current.srcObject=e,$("active"),H("webcam"))}catch(e){console.error("Camera access denied:",e),$("error"),H("mouse")}},em=e=>{I(e),E(!1),e&&ex()},eh=()=>{J(e=>e.map(e=>({...e,dwellTime:0,visits:0,isConfused:!1}))),V([]),q([]),U([]),Y(null),L(null),ee({totalDwellTime:0,confusionCount:0,helpTriggered:0,sessionDuration:0,gazePoints:0})},ef=()=>Y(null);return(0,s.useEffect)(()=>(D&&"mouse"===A&&!_&&document.addEventListener("mousemove",eo),()=>{document.removeEventListener("mousemove",eo)}),[D,A,_,eo]),(0,s.useEffect)(()=>{if(D){let e=setInterval(()=>{ee(e=>({...e,sessionDuration:Math.round((Date.now()-ei.current)/1e3),totalDwellTime:Z.reduce((e,t)=>e+t.dwellTime,0)}))},1e3);return()=>clearInterval(e)}},[D,Z]),(0,s.useEffect)(()=>()=>{es.current?.srcObject&&(es.current.srcObject.getTracks().forEach(e=>e.stop()),es.current.srcObject=null),$("idle"),er.current&&clearInterval(er.current)},[]),(0,t.jsxs)("div",{className:"min-h-screen bg-[#080c14] p-4 lg:p-6",children:[R&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",children:(0,t.jsxs)(a.Card,{className:"w-full max-w-lg bg-[#0a1628] border-[#1a2744]",children:[(0,t.jsx)(a.CardHeader,{children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"p-3 rounded-full bg-[#00ffc8]/10",children:(0,t.jsx)(c.Eye,{className:"h-6 w-6 text-[#00ffc8]"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)(a.CardTitle,{className:"text-white",children:"Eye Tracking Consent"}),(0,t.jsx)(a.CardDescription,{className:"text-[#6b7b9a]",children:"Privacy-First Assistance"})]})]})}),(0,t.jsxs)(a.CardContent,{className:"space-y-4",children:[(0,t.jsx)("p",{className:"text-[#8b9dc3] text-sm leading-relaxed",children:"Clarity Guardian uses eye/gaze tracking to detect when users are confused during checkout and provides contextual help. This helps reduce cart abandonment and improve user experience."}),(0,t.jsxs)("div",{className:"bg-[#0f1a2e] rounded-lg p-4 border border-[#1a2744] space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm text-[#00ffc8]",children:[(0,t.jsx)(b.Shield,{className:"h-4 w-4"}),(0,t.jsx)("span",{children:"Privacy Guarantees"})]}),(0,t.jsxs)("ul",{className:"text-xs text-[#6b7b9a] space-y-1 ml-6",children:[(0,t.jsx)("li",{children:"• No images or video are stored or transmitted"}),(0,t.jsx)("li",{children:"• All processing happens locally in your browser"}),(0,t.jsx)("li",{children:"• You can disable tracking at any time"}),(0,t.jsx)("li",{children:"• Mouse fallback available if camera denied"})]})]}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsxs)(i.Button,{onClick:()=>em(!0),className:"flex-1 bg-[#00ffc8] text-[#0a0e1a] hover:bg-[#00ffc8]/90",children:[(0,t.jsx)(u,{className:"h-4 w-4 mr-2"}),"Enable with Camera"]}),(0,t.jsxs)(i.Button,{onClick:()=>em(!1),variant:"outline",className:"flex-1 border-[#1a2744] text-[#6b7b9a] hover:bg-[#1a2744]",children:[(0,t.jsx)(N,{className:"h-4 w-4 mr-2"}),"Mouse Only"]})]})]})]})}),(0,t.jsxs)("div",{className:"max-w-7xl mx-auto space-y-6",children:[(0,t.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h1",{className:"text-2xl lg:text-3xl font-bold text-white flex items-center gap-3",children:[(0,t.jsx)("div",{className:"p-2 rounded-lg bg-gradient-to-br from-[#00ffc8]/20 to-[#00a8ff]/20 border border-[#00ffc8]/30",children:(0,t.jsx)(c.Eye,{className:"h-6 w-6 text-[#00ffc8]"})}),"Clarity Guardian"]}),(0,t.jsx)("p",{className:"text-[#6b7b9a] mt-1",children:"Track 5: Payment Confusion Detector - Real-time gaze tracking"})]}),(0,t.jsxs)("div",{className:"flex flex-wrap items-center gap-3",children:[(0,t.jsxs)(r.Badge,{className:`${"active"===B?"bg-green-500/20 text-green-400 border-green-500/30":"error"===B?"bg-red-500/20 text-red-400 border-red-500/30":"bg-[#1a2744] text-[#6b7b9a] border-[#2a3a5a]"}`,children:["active"===B?(0,t.jsx)(k,{className:"h-3 w-3 mr-1"}):(0,t.jsx)(T,{className:"h-3 w-3 mr-1"}),"webcam"===A?"Webcam":"Mouse"," Mode"]}),z&&(0,t.jsxs)("div",{className:"flex items-center gap-2 bg-[#0a1628] px-3 py-1.5 rounded-lg border border-[#1a2744]",children:[(0,t.jsx)("div",{className:`h-2 w-2 rounded-full ${D?"bg-[#00ffc8] animate-pulse":"bg-[#6b7b9a]"}`}),(0,t.jsx)("span",{className:"text-sm text-[#6b7b9a]",children:D?"Tracking":"Paused"}),(0,t.jsx)(n.Switch,{checked:D,onCheckedChange:()=>{D?(M(!1),ee(e=>({...e,sessionDuration:Math.round((Date.now()-ei.current)/1e3)}))):(M(!0),ei.current=Date.now())},disabled:_})]}),(0,t.jsx)(i.Button,{onClick:()=>{if(_)return;W(!0),M(!0),eh(),ei.current=Date.now();let e=[{zoneId:"price",duration:2e3,visits:1},{zoneId:"items",duration:1500,visits:1},{zoneId:"price",duration:2500,visits:2},{zoneId:"terms",duration:5500,visits:3},{zoneId:"payment",duration:2e3,visits:1},{zoneId:"price",duration:3500,visits:4},{zoneId:"submit",duration:1500,visits:1}],t=0;e.forEach((s,a)=>{setTimeout(()=>{let t=Z.find(e=>e.id===s.zoneId);if(!t)return;let i=t.x+t.width/2,r=t.y+t.height/2,n=s.visits>2||s.duration>4e3,l=0,d=setInterval(()=>{if(l>=s.duration){clearInterval(d),a===e.length-1&&setTimeout(()=>{W(!1),M(!1),ee(e=>({...e,sessionDuration:Math.round((Date.now()-ei.current)/1e3)}))},500);return}let t=n?40:15,c=i+(Math.random()-.5)*t*2,o=r+(Math.random()-.5)*t*2;L({x:c,y:o}),V(e=>[...e.slice(-500),{x:c,y:o,timestamp:Date.now()}]),ee(e=>({...e,gazePoints:e.gazePoints+1}));let u=20*Math.floor(c/20),x=20*Math.floor(o/20);q(e=>e.find(e=>e.x===u&&e.y===x)?e.map(e=>e.x===u&&e.y===x?{...e,intensity:Math.min(e.intensity+(n?.04:.02),1)}:e):[...e.slice(-1e3),{x:u,y:x,intensity:n?.3:.15}]),J(e=>e.map(e=>{if(e.id===s.zoneId){let t=e.dwellTime+50,a=t>4e3&&s.visits>2;return a&&!e.isConfused&&(U(s=>[...s,{zone:e.name,timestamp:new Date,type:n?"Extended hesitation + revisits":"Multiple revisits",dwellTime:t}]),Y(e.id),ee(e=>({...e,confusionCount:e.confusionCount+1,helpTriggered:e.helpTriggered+1}))),{...e,dwellTime:t,visits:s.visits,isConfused:a}}return e})),l+=50},50)},t),t+=s.duration+300})},disabled:_,className:"bg-gradient-to-r from-[#a855f7] to-[#00a8ff] text-white",children:_?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(g.Activity,{className:"h-4 w-4 mr-2 animate-pulse"}),"Simulating..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(w.Play,{className:"h-4 w-4 mr-2"}),"Run Demo"]})}),(0,t.jsxs)(i.Button,{onClick:eh,variant:"outline",className:"border-[#1a2744] text-[#6b7b9a] bg-transparent",children:[(0,t.jsx)(C,{className:"h-4 w-4 mr-2"}),"Reset"]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 lg:grid-cols-5 gap-4",children:[(0,t.jsx)(a.Card,{className:"bg-[#0a1628]/80 border-[#1a2744]",children:(0,t.jsx)(a.CardContent,{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"p-2 rounded-lg bg-[#00ffc8]/20",children:(0,t.jsx)(v.Target,{className:"h-5 w-5 text-[#00ffc8]"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-2xl font-bold text-white",children:Q.gazePoints}),(0,t.jsx)("p",{className:"text-xs text-[#6b7b9a]",children:"Gaze Points"})]})]})})}),(0,t.jsx)(a.Card,{className:"bg-[#0a1628]/80 border-[#1a2744]",children:(0,t.jsx)(a.CardContent,{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"p-2 rounded-lg bg-red-500/20",children:(0,t.jsx)(x.AlertTriangle,{className:"h-5 w-5 text-red-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-2xl font-bold text-white",children:Q.confusionCount}),(0,t.jsx)("p",{className:"text-xs text-[#6b7b9a]",children:"Confusions"})]})]})})}),(0,t.jsx)(a.Card,{className:"bg-[#0a1628]/80 border-[#1a2744]",children:(0,t.jsx)(a.CardContent,{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"p-2 rounded-lg bg-[#a855f7]/20",children:(0,t.jsx)(h.HelpCircle,{className:"h-5 w-5 text-[#a855f7]"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-2xl font-bold text-white",children:Q.helpTriggered}),(0,t.jsx)("p",{className:"text-xs text-[#6b7b9a]",children:"Help Shown"})]})]})})}),(0,t.jsx)(a.Card,{className:"bg-[#0a1628]/80 border-[#1a2744]",children:(0,t.jsx)(a.CardContent,{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"p-2 rounded-lg bg-[#00a8ff]/20",children:(0,t.jsx)(y.Clock,{className:"h-5 w-5 text-[#00a8ff]"})}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("p",{className:"text-2xl font-bold text-white",children:[Q.sessionDuration,"s"]}),(0,t.jsx)("p",{className:"text-xs text-[#6b7b9a]",children:"Session Time"})]})]})})}),(0,t.jsx)(a.Card,{className:"bg-[#0a1628]/80 border-[#1a2744]",children:(0,t.jsx)(a.CardContent,{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"p-2 rounded-lg bg-amber-500/20",children:(0,t.jsx)(g.Activity,{className:"h-5 w-5 text-amber-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("p",{className:"text-2xl font-bold text-white",children:[(Q.totalDwellTime/1e3).toFixed(1),"s"]}),(0,t.jsx)("p",{className:"text-xs text-[#6b7b9a]",children:"Total Dwell"})]})]})})})]}),(0,t.jsxs)(d.Tabs,{defaultValue:"checkout",className:"space-y-4",children:[(0,t.jsxs)(d.TabsList,{className:"bg-[#0a1628] border border-[#1a2744]",children:[(0,t.jsxs)(d.TabsTrigger,{value:"checkout",className:"data-[state=active]:bg-[#1a2744] data-[state=active]:text-[#00ffc8]",children:[(0,t.jsx)(f,{className:"h-4 w-4 mr-2"}),"Checkout Demo"]}),(0,t.jsxs)(d.TabsTrigger,{value:"heatmap",className:"data-[state=active]:bg-[#1a2744] data-[state=active]:text-[#00ffc8]",children:[(0,t.jsx)(j.BarChart3,{className:"h-4 w-4 mr-2"}),"Heatmap Analysis"]}),(0,t.jsxs)(d.TabsTrigger,{value:"events",className:"data-[state=active]:bg-[#1a2744] data-[state=active]:text-[#00ffc8]",children:[(0,t.jsx)(x.AlertTriangle,{className:"h-4 w-4 mr-2"}),"Events Log"]})]}),(0,t.jsx)(d.TabsContent,{value:"checkout",children:(0,t.jsxs)("div",{className:"grid gap-6 lg:grid-cols-3",children:[(0,t.jsxs)(a.Card,{className:"lg:col-span-2 bg-[#0a1628]/80 border-[#1a2744]",children:[(0,t.jsxs)(a.CardHeader,{children:[(0,t.jsxs)(a.CardTitle,{className:"text-white flex items-center gap-2",children:[(0,t.jsx)(f,{className:"h-5 w-5 text-[#00ffc8]"}),"Checkout Page (Move mouse here to track)"]}),(0,t.jsx)(a.CardDescription,{className:"text-[#6b7b9a]",children:D?"Move your mouse over different sections - confusion is detected after 4+ seconds of dwell time with multiple revisits":"Enable tracking and move your mouse over the checkout to see gaze analysis"})]}),(0,t.jsx)(a.CardContent,{children:(0,t.jsxs)("div",{ref:et,className:"relative bg-[#0f1a2e] rounded-lg border border-[#1a2744] overflow-hidden",style:{height:"500px",width:"100%"},children:[Z.map(s=>(0,t.jsxs)("div",{className:`absolute border-2 rounded-lg transition-all duration-300 ${s.isConfused?"border-red-500 bg-red-500/10":F&&F.x>=s.x&&F.x<=s.x+s.width&&F.y>=s.y&&F.y<=s.y+s.height?"border-[#00ffc8] bg-[#00ffc8]/10":"border-[#1a2744] bg-transparent"}`,style:{left:s.x,top:s.y,width:s.width,height:s.height},children:[(0,t.jsxs)("div",{className:"absolute -top-6 left-0 text-xs text-[#6b7b9a] whitespace-nowrap",children:[s.name," (",(s.dwellTime/1e3).toFixed(1),"s, ",s.visits," visits)"]}),"price"===s.id&&(0,t.jsxs)("div",{className:"p-4 h-full flex flex-col justify-center",children:[(0,t.jsx)("p",{className:"text-lg font-semibold text-white mb-3",children:"Order Summary"}),(0,t.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,t.jsxs)("div",{className:"flex justify-between text-[#6b7b9a]",children:[(0,t.jsx)("span",{children:"Subtotal"}),(0,t.jsx)("span",{children:e(el)})]}),(0,t.jsxs)("div",{className:"flex justify-between text-[#6b7b9a]",children:[(0,t.jsx)("span",{children:"Tax (18%)"}),(0,t.jsx)("span",{children:e(ed)})]}),(0,t.jsxs)("div",{className:"flex justify-between text-white font-bold border-t border-[#1a2744] pt-2",children:[(0,t.jsx)("span",{children:"Total"}),(0,t.jsx)("span",{className:"text-[#00ffc8]",children:e(ec)})]})]})]}),"items"===s.id&&(0,t.jsxs)("div",{className:"p-4 h-full overflow-auto",children:[(0,t.jsx)("p",{className:"text-sm font-semibold text-white mb-3",children:"Cart Items"}),(0,t.jsx)("div",{className:"space-y-3",children:en.map((s,a)=>(0,t.jsxs)("div",{className:"flex justify-between items-center text-sm",children:[(0,t.jsx)("span",{className:"text-[#8b9dc3]",children:s.name}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsx)("span",{className:"text-white",children:e(s.price)}),(0,t.jsx)("span",{className:"text-[#6b7b9a] line-through ml-2 text-xs",children:e(s.originalPrice)})]})]},a))})]}),"terms"===s.id&&(0,t.jsx)("div",{className:"p-4 h-full flex items-center",children:(0,t.jsxs)("label",{className:"flex items-start gap-3 cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",className:"mt-1 accent-[#00ffc8]"}),(0,t.jsx)("span",{className:"text-xs text-[#6b7b9a]",children:"I agree to the Terms of Service and Privacy Policy"})]})}),"payment"===s.id&&(0,t.jsxs)("div",{className:"p-4 h-full",children:[(0,t.jsx)("p",{className:"text-sm font-semibold text-white mb-3",children:"Payment Method"}),(0,t.jsx)("div",{className:"space-y-2",children:["Credit Card","PayPal","Apple Pay"].map((e,s)=>(0,t.jsxs)("label",{className:"flex items-center gap-3 p-2 rounded-lg bg-[#080c14] border border-[#1a2744] cursor-pointer hover:border-[#00ffc8]/50 transition-colors",children:[(0,t.jsx)("input",{type:"radio",name:"payment",className:"accent-[#00ffc8]",defaultChecked:0===s}),(0,t.jsx)(p.CreditCard,{className:"h-4 w-4 text-[#6b7b9a]"}),(0,t.jsx)("span",{className:"text-sm text-[#8b9dc3]",children:e})]},s))})]}),"submit"===s.id&&(0,t.jsx)("div",{className:"p-4 h-full flex items-center justify-center",children:(0,t.jsxs)(i.Button,{className:"w-full bg-gradient-to-r from-[#00ffc8] to-[#00a8ff] text-[#0a0e1a] font-semibold py-6",children:[(0,t.jsx)(b.Shield,{className:"h-5 w-5 mr-2"}),"Complete Purchase - ",e(ec)]})}),X===s.id&&(0,t.jsx)("div",{className:"absolute inset-0 bg-[#0a1628]/95 flex items-center justify-center p-4 z-10 rounded-lg animate-in fade-in duration-300",children:(0,t.jsxs)("div",{className:"text-center space-y-3",children:[(0,t.jsx)("div",{className:"inline-flex p-3 rounded-full bg-[#00ffc8]/20 mb-2",children:(0,t.jsx)(P.Sparkles,{className:"h-6 w-6 text-[#00ffc8]"})}),(0,t.jsx)("p",{className:"text-sm text-white font-medium",children:"Need Help?"}),(0,t.jsx)("p",{className:"text-xs text-[#8b9dc3] leading-relaxed",children:s.helpText}),(0,t.jsxs)(i.Button,{size:"sm",onClick:ef,className:"bg-[#00ffc8] text-[#0a0e1a] hover:bg-[#00ffc8]/90",children:[(0,t.jsx)(m.CheckCircle,{className:"h-3 w-3 mr-1"}),"Got it"]})]})})]},s.id)),F&&D&&(0,t.jsxs)("div",{className:"absolute pointer-events-none z-20 transition-all duration-75",style:{left:F.x-12,top:F.y-12},children:[(0,t.jsx)("div",{className:"w-6 h-6 rounded-full border-2 border-[#00ffc8] bg-[#00ffc8]/20 animate-pulse"}),(0,t.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,t.jsx)("div",{className:"w-2 h-2 rounded-full bg-[#00ffc8]"})})]})]})})]}),(0,t.jsxs)(a.Card,{className:"bg-[#0a1628]/80 border-[#1a2744]",children:[(0,t.jsx)(a.CardHeader,{children:(0,t.jsxs)(a.CardTitle,{className:"text-white flex items-center gap-2",children:[(0,t.jsx)(j.BarChart3,{className:"h-5 w-5 text-[#00a8ff]"}),"Zone Analysis"]})}),(0,t.jsx)(a.CardContent,{className:"space-y-4",children:Z.map(e=>(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-sm text-[#8b9dc3]",children:e.name}),e.isConfused&&(0,t.jsx)(r.Badge,{className:"bg-red-500/20 text-red-400 border-red-500/30 text-xs",children:"Confused"})]}),(0,t.jsx)(l.Progress,{value:Math.min(e.dwellTime/6e3*100,100),className:"h-2 bg-[#1a2744]"}),(0,t.jsxs)("div",{className:"flex justify-between text-xs text-[#6b7b9a]",children:[(0,t.jsxs)("span",{children:[(e.dwellTime/1e3).toFixed(1),"s dwell"]}),(0,t.jsxs)("span",{children:[e.visits," visits"]})]})]},e.id))})]})]})}),(0,t.jsx)(d.TabsContent,{value:"heatmap",children:(0,t.jsxs)(a.Card,{className:"bg-[#0a1628]/80 border-[#1a2744]",children:[(0,t.jsxs)(a.CardHeader,{children:[(0,t.jsx)(a.CardTitle,{className:"text-white",children:"Gaze Heatmap"}),(0,t.jsx)(a.CardDescription,{className:"text-[#6b7b9a]",children:"Visual representation of where users are looking - brighter areas indicate more attention"})]}),(0,t.jsx)(a.CardContent,{children:(0,t.jsxs)("div",{className:"relative bg-[#0f1a2e] rounded-lg border border-[#1a2744]",style:{height:"500px"},children:[(0,t.jsx)("svg",{width:"100%",height:"100%",className:"absolute inset-0",children:G.map((e,s)=>(0,t.jsx)("rect",{x:e.x,y:e.y,width:20,height:20,fill:`rgba(0, 255, 200, ${.6*e.intensity})`,className:"transition-opacity duration-300"},s))}),Z.map(e=>(0,t.jsx)("div",{className:"absolute border border-[#1a2744] rounded",style:{left:e.x,top:e.y,width:e.width,height:e.height},children:(0,t.jsx)("span",{className:"absolute -top-5 left-0 text-xs text-[#6b7b9a]",children:e.name})},e.id)),0===G.length&&(0,t.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,t.jsx)("p",{className:"text-[#6b7b9a]",children:"No heatmap data yet. Start tracking or run the demo."})})]})})]})}),(0,t.jsx)(d.TabsContent,{value:"events",children:(0,t.jsxs)(a.Card,{className:"bg-[#0a1628]/80 border-[#1a2744]",children:[(0,t.jsxs)(a.CardHeader,{children:[(0,t.jsxs)(a.CardTitle,{className:"text-white flex items-center gap-2",children:[(0,t.jsx)(x.AlertTriangle,{className:"h-5 w-5 text-amber-400"}),"Confusion Events Log"]}),(0,t.jsx)(a.CardDescription,{className:"text-[#6b7b9a]",children:"Timeline of detected user confusion moments"})]}),(0,t.jsx)(a.CardContent,{children:0===K.length?(0,t.jsx)("p",{className:"text-center text-[#6b7b9a] py-8",children:"No confusion events detected yet"}):(0,t.jsx)("div",{className:"space-y-3",children:K.map((e,s)=>(0,t.jsxs)("div",{className:"flex items-start gap-4 p-4 bg-[#0f1a2e] rounded-lg border border-[#1a2744]",children:[(0,t.jsx)("div",{className:"p-2 rounded-full bg-red-500/20",children:(0,t.jsx)(x.AlertTriangle,{className:"h-4 w-4 text-red-400"})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("p",{className:"text-white font-medium",children:e.zone}),(0,t.jsx)("span",{className:"text-xs text-[#6b7b9a]",children:e.timestamp.toLocaleTimeString()})]}),(0,t.jsx)("p",{className:"text-sm text-[#6b7b9a] mt-1",children:e.type}),(0,t.jsxs)("p",{className:"text-xs text-[#6b7b9a] mt-1",children:["Dwell time: ",(e.dwellTime/1e3).toFixed(1),"s"]})]})]},s))})})]})})]}),(0,t.jsx)("video",{ref:es,autoPlay:!0,playsInline:!0,muted:!0,className:"hidden"})]})]})}e.s(["default",()=>D],89269)}]);