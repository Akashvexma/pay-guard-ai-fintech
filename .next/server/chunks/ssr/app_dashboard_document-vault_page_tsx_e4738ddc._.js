module.exports=[54600,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(3130),e=a.i(40695),f=a.i(5522),g=a.i(17171),h=a.i(54161),i=a.i(2150),j=a.i(21958),k=a.i(3314),l=a.i(70106);let m=(0,l.default)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);var n=a.i(43108),o=a.i(4720),p=a.i(77156),q=a.i(41379),r=a.i(67453),s=a.i(73570),t=a.i(81402),u=a.i(53259);let v=(0,l.default)("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);var w=a.i(81560),x=a.i(84505),y=a.i(69285);let z=(0,l.default)("FileArchive",[["path",{d:"M10 12v-1",key:"v7bkov"}],["path",{d:"M10 18v-2",key:"1cjy8d"}],["path",{d:"M10 7V6",key:"dljcrl"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M15.5 22H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v16a2 2 0 0 0 .274 1.01",key:"gkbcor"}],["circle",{cx:"10",cy:"20",r:"2",key:"1xzdoj"}]]);var A=a.i(41710),B=a.i(4416);let C=(0,l.default)("Import",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m8 11 4 4 4-4",key:"1dohi6"}],["path",{d:"M8 5H4a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-4",key:"1ywtjm"}]]),D=(0,l.default)("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);var E=a.i(5151),F=a.i(69520);let G=(0,l.default)("FileKey",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["circle",{cx:"10",cy:"16",r:"2",key:"4ckbqe"}],["path",{d:"m16 10-4.5 4.5",key:"7p3ebg"}],["path",{d:"m15 11 1 1",key:"1bsyx3"}]]);var H=a.i(11805),I=a.i(42644);function J(){let[a,l]=(0,c.useState)(""),[J,K]=(0,c.useState)(!1),[L,M]=(0,c.useState)(null),[N,O]=(0,c.useState)(!1),[P,Q]=(0,c.useState)(null),[R,S]=(0,c.useState)([]),[T,U]=(0,c.useState)(!1),[V,W]=(0,c.useState)(0),[X,Y]=(0,c.useState)(""),[Z,$]=(0,c.useState)(null),[_,aa]=(0,c.useState)(""),[ab,ac]=(0,c.useState)(null),[ad,ae]=(0,c.useState)(null),[af,ag]=(0,c.useState)(null),[ah,ai]=(0,c.useState)(null),[aj,ak]=(0,c.useState)("encrypt"),[al,am]=(0,c.useState)(null),[an,ao]=(0,c.useState)(!1),[ap,aq]=(0,c.useState)(null),ar=(0,c.useRef)(null),as=(0,c.useRef)(null),at={totalFiles:R.length,totalSize:R.reduce((a,b)=>a+b.encryptedSize,0),lastActivity:R.length>0?R[0].encryptedAt:null},au=async()=>{if(!(a.length<4)){O(!0);try{await new Promise(a=>setTimeout(a,500)),Q(["123456","password","12345678","qwerty","abc123","111111","123123","admin","letmein","welcome","password1","iloveyou","sunshine","princess","football"].includes(a.toLowerCase()))}finally{O(!1)}}},av=async a=>Array.from(new Uint8Array(await crypto.subtle.digest("SHA-256",a))).map(a=>a.toString(16).padStart(2,"0")).join("").slice(0,16),aw=async(a,b)=>{let c=new TextEncoder().encode(a),d=await crypto.subtle.importKey("raw",c,"PBKDF2",!1,["deriveKey"]);return await crypto.subtle.deriveKey({name:"PBKDF2",salt:b,iterations:1e5,hash:"SHA-256"},d,{name:"AES-GCM",length:256},!1,["encrypt","decrypt"])},ax=async()=>{if(!Z||!a||a.length<6)return void ag("Please select a file and enter a PIN (minimum 6 characters)");U(!0),W(0),ag(null),ai(null);try{Y("Generating cryptographic salt..."),W(10);let b=crypto.getRandomValues(new Uint8Array(16));await new Promise(a=>setTimeout(a,200)),Y("Deriving encryption key (PBKDF2)..."),W(25);let c=await aw(a,b);await new Promise(a=>setTimeout(a,200)),Y("Reading file contents..."),W(40);let d=await Z.arrayBuffer();await new Promise(a=>setTimeout(a,100)),Y("Generating initialization vector..."),W(55);let e=crypto.getRandomValues(new Uint8Array(12));await new Promise(a=>setTimeout(a,100)),Y("Encrypting with AES-256-GCM..."),W(70);let f=await crypto.subtle.encrypt({name:"AES-GCM",iv:e},c,d);await new Promise(a=>setTimeout(a,200)),Y("Generating checksum..."),W(90);let g=await av(f);await new Promise(a=>setTimeout(a,100)),W(100),Y("Complete!");let h={id:`file-${Date.now()}-${Math.random().toString(36).slice(2,8)}`,name:`${Z.name}.encrypted`,originalName:Z.name,originalSize:Z.size,encryptedSize:f.byteLength,encryptedAt:new Date,iv:e,salt:b,encryptedData:f,status:"encrypted",type:Z.type||"application/octet-stream",checksum:g};S(a=>[h,...a]),$(null),ai(`"${Z.name}" encrypted successfully with AES-256-GCM!`),ar.current&&(ar.current.value="")}catch(a){console.error("Encryption error:",a),ag("Encryption failed. Please try again.")}finally{U(!1),W(0),Y("")}},ay=async a=>{if(!_||_.length<6)return void ag("Please enter your PIN (minimum 6 characters)");ae(a.id),ag(null),ai(null);try{let b=await aw(_,a.salt),c=await crypto.subtle.decrypt({name:"AES-GCM",iv:a.iv},b,a.encryptedData),d=new Blob([c],{type:a.type}),e=URL.createObjectURL(d),f=document.createElement("a");f.href=e,f.download=a.originalName,f.style.display="none",document.body.appendChild(f),f.click(),setTimeout(()=>{document.body.removeChild(f),URL.revokeObjectURL(e)},100),ai(`"${a.originalName}" decrypted and downloaded successfully!`),aa(""),aq(null)}catch(a){console.error("Decryption error:",a),ag("Decryption failed. Wrong PIN or corrupted data.")}finally{ae(null)}},az=async()=>{if(!al)return void ag("Please select a .pgvault file to import");ao(!0),ag(null);try{let a=await al.arrayBuffer(),b=new DataView(a).getUint32(0,!0),c=new Uint8Array(a,4,b),d=new TextDecoder().decode(c),e=JSON.parse(d),f=a.slice(4+b),g=new Uint8Array(e.saltHex.match(/.{1,2}/g).map(a=>Number.parseInt(a,16))),h=new Uint8Array(e.ivHex.match(/.{1,2}/g).map(a=>Number.parseInt(a,16))),i={id:`imported-${Date.now()}-${Math.random().toString(36).slice(2,8)}`,name:`${e.name}.encrypted`,originalName:e.name,originalSize:e.originalSize,encryptedSize:f.byteLength,encryptedAt:new Date(e.encryptedAt),iv:h,salt:g,encryptedData:f,status:"encrypted",type:e.type||"application/octet-stream",checksum:e.checksum||"unknown"};S(a=>[i,...a]),ai(`Successfully imported "${e.name}" from vault backup!`),am(null),as.current&&(as.current.value=""),ak("vault")}catch(a){console.error("Import error:",a),ag("Failed to import vault file. The file may be corrupted or in wrong format.")}finally{ao(!1)}},aA=a=>a<1024?a+" B":a<1048576?(a/1024).toFixed(1)+" KB":(a/1048576).toFixed(2)+" MB";return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[(0,b.jsx)("div",{children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"p-2 rounded-lg bg-gradient-to-br from-purple-500/20 to-pink-500/20 border border-purple-500/30",children:(0,b.jsx)(k.Shield,{className:"h-6 w-6 text-purple-400"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl font-bold text-white",children:"Secure Document Vault"}),(0,b.jsx)("p",{className:"text-sm text-[#6b7b9a]",children:"Track 4: Zero-Knowledge KYC Encryption"})]})]})}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsxs)(h.Badge,{className:"bg-purple-500/20 text-purple-400 border-purple-500/30",children:[(0,b.jsx)(n.Lock,{className:"h-3 w-3 mr-1"}),"AES-256-GCM"]}),(0,b.jsxs)(h.Badge,{className:"bg-[#00ffc8]/20 text-[#00ffc8] border-[#00ffc8]/30",children:[(0,b.jsx)(I.Fingerprint,{className:"h-3 w-3 mr-1"}),"PBKDF2 100K"]})]})]}),af&&(0,b.jsx)(d.Card,{className:"bg-red-500/10 border-red-500/30",children:(0,b.jsxs)(d.CardContent,{className:"p-4 flex items-center gap-2",children:[(0,b.jsx)(s.AlertTriangle,{className:"h-5 w-5 text-red-400 flex-shrink-0"}),(0,b.jsx)("p",{className:"text-red-400 flex-1",children:af}),(0,b.jsx)(e.Button,{variant:"ghost",size:"sm",className:"text-red-400 hover:text-red-300",onClick:()=>ag(null),children:"Dismiss"})]})}),ah&&(0,b.jsx)(d.Card,{className:"bg-[#00ffc8]/10 border-[#00ffc8]/30",children:(0,b.jsxs)(d.CardContent,{className:"p-4 flex items-center gap-2",children:[(0,b.jsx)(r.CheckCircle2,{className:"h-5 w-5 text-[#00ffc8] flex-shrink-0"}),(0,b.jsx)("p",{className:"text-[#00ffc8] flex-1",children:ah}),(0,b.jsx)(e.Button,{variant:"ghost",size:"sm",className:"text-[#00ffc8] hover:text-[#00ffc8]/80",onClick:()=>ai(null),children:"Dismiss"})]})}),(0,b.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,b.jsx)(d.Card,{className:"bg-[#0a1628]/80 border-[#1a2744]",children:(0,b.jsx)(d.CardContent,{className:"p-4",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"p-2 rounded-lg bg-purple-500/20",children:(0,b.jsx)(z,{className:"h-5 w-5 text-purple-400"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-2xl font-bold text-white",children:at.totalFiles}),(0,b.jsx)("p",{className:"text-xs text-[#6b7b9a]",children:"Files in Vault"})]})]})})}),(0,b.jsx)(d.Card,{className:"bg-[#0a1628]/80 border-[#1a2744]",children:(0,b.jsx)(d.CardContent,{className:"p-4",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"p-2 rounded-lg bg-[#00ffc8]/20",children:(0,b.jsx)(H.HardDrive,{className:"h-5 w-5 text-[#00ffc8]"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-2xl font-bold text-white",children:aA(at.totalSize)}),(0,b.jsx)("p",{className:"text-xs text-[#6b7b9a]",children:"Encrypted Data"})]})]})})}),(0,b.jsx)(d.Card,{className:"bg-[#0a1628]/80 border-[#1a2744]",children:(0,b.jsx)(d.CardContent,{className:"p-4",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"p-2 rounded-lg bg-[#00a8ff]/20",children:(0,b.jsx)(B.ShieldCheck,{className:"h-5 w-5 text-[#00a8ff]"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-2xl font-bold text-white",children:"256-bit"}),(0,b.jsx)("p",{className:"text-xs text-[#6b7b9a]",children:"Encryption"})]})]})})}),(0,b.jsx)(d.Card,{className:"bg-[#0a1628]/80 border-[#1a2744]",children:(0,b.jsx)(d.CardContent,{className:"p-4",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"p-2 rounded-lg bg-orange-500/20",children:(0,b.jsx)(A.Clock,{className:"h-5 w-5 text-orange-400"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-bold text-white",children:at.lastActivity?at.lastActivity.toLocaleDateString():"N/A"}),(0,b.jsx)("p",{className:"text-xs text-[#6b7b9a]",children:"Last Activity"})]})]})})})]}),(0,b.jsxs)(j.Tabs,{value:aj,onValueChange:ak,className:"space-y-6",children:[(0,b.jsxs)(j.TabsList,{className:"bg-[#0a1628] border border-[#1a2744]",children:[(0,b.jsxs)(j.TabsTrigger,{value:"encrypt",className:"data-[state=active]:bg-purple-500/20 data-[state=active]:text-purple-400",children:[(0,b.jsx)(n.Lock,{className:"h-4 w-4 mr-2"}),"Encrypt"]}),(0,b.jsxs)(j.TabsTrigger,{value:"vault",className:"data-[state=active]:bg-[#00ffc8]/20 data-[state=active]:text-[#00ffc8]",children:[(0,b.jsx)(u.Database,{className:"h-4 w-4 mr-2"}),"Vault (",R.length,")"]}),(0,b.jsxs)(j.TabsTrigger,{value:"import",className:"data-[state=active]:bg-[#00a8ff]/20 data-[state=active]:text-[#00a8ff]",children:[(0,b.jsx)(C,{className:"h-4 w-4 mr-2"}),"Import"]})]}),(0,b.jsx)(j.TabsContent,{value:"encrypt",children:(0,b.jsxs)(d.Card,{className:"bg-[#0a1628]/80 border-[#1a2744]",children:[(0,b.jsxs)(d.CardHeader,{children:[(0,b.jsxs)(d.CardTitle,{className:"text-white flex items-center gap-2",children:[(0,b.jsx)(t.Key,{className:"h-5 w-5 text-[#00ffc8]"}),"Encrypt Document"]}),(0,b.jsx)(d.CardDescription,{className:"text-[#6b7b9a]",children:"Upload and encrypt KYC documents with your secret PIN using AES-256-GCM"})]}),(0,b.jsxs)(d.CardContent,{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(g.Label,{className:"text-[#a0aec0]",children:"Secret PIN"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(f.Input,{type:J?"text":"password",value:a,onChange:a=>{var b;l(a.target.value),(b=a.target.value).length<6?M("weak"):!(b.length<10)&&/[A-Z]/.test(b)&&/[0-9]/.test(b)?M("strong"):M("medium"),Q(null)},onBlur:au,placeholder:"Enter a strong PIN (min 6 characters)",className:"bg-[#0d1520] border-[#1a2744] text-white pr-10"}),(0,b.jsx)(e.Button,{type:"button",variant:"ghost",size:"icon",className:"absolute right-2 top-1/2 -translate-y-1/2 text-[#6b7b9a] hover:text-white h-7 w-7",onClick:()=>K(!J),children:J?(0,b.jsx)(q.EyeOff,{className:"h-4 w-4"}):(0,b.jsx)(p.Eye,{className:"h-4 w-4"})})]}),a&&(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsxs)("div",{className:"flex gap-1 flex-1",children:[(0,b.jsx)("div",{className:`h-1 flex-1 rounded ${"weak"===L?"bg-red-500":"medium"===L?"bg-yellow-500":"bg-[#00ffc8]"}`}),(0,b.jsx)("div",{className:`h-1 flex-1 rounded ${"medium"===L?"bg-yellow-500":"strong"===L?"bg-[#00ffc8]":"bg-[#1a2744]"}`}),(0,b.jsx)("div",{className:`h-1 flex-1 rounded ${"strong"===L?"bg-[#00ffc8]":"bg-[#1a2744]"}`})]}),(0,b.jsxs)("span",{className:`text-xs ${"weak"===L?"text-red-400":"medium"===L?"text-yellow-400":"text-[#00ffc8]"}`,children:[L?.charAt(0).toUpperCase(),L?.slice(1)]})]}),N&&(0,b.jsxs)("p",{className:"text-xs text-[#6b7b9a] flex items-center gap-1",children:[(0,b.jsx)(F.RefreshCw,{className:"h-3 w-3 animate-spin"}),"Checking against common passwords..."]}),!0===P&&(0,b.jsxs)("p",{className:"text-xs text-red-400 flex items-center gap-1",children:[(0,b.jsx)(s.AlertTriangle,{className:"h-3 w-3"}),"This is a commonly used password. Choose a stronger one."]}),!1===P&&(0,b.jsxs)("p",{className:"text-xs text-[#00ffc8] flex items-center gap-1",children:[(0,b.jsx)(r.CheckCircle2,{className:"h-3 w-3"}),"PIN is not in common password lists"]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(g.Label,{className:"text-[#a0aec0]",children:"Select Document"}),(0,b.jsxs)("div",{className:`border-2 border-dashed rounded-lg p-8 text-center transition-all cursor-pointer ${Z?"border-[#00ffc8]/50 bg-[#00ffc8]/5":"border-[#1a2744] hover:border-[#00ffc8]/30 hover:bg-[#0d1520]"}`,onClick:()=>ar.current?.click(),children:[(0,b.jsx)("input",{ref:ar,type:"file",className:"hidden",accept:".pdf,.jpg,.jpeg,.png,.doc,.docx,.txt,.xls,.xlsx",onChange:a=>$(a.target.files?.[0]||null)}),Z?(0,b.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,b.jsx)(o.FileText,{className:"h-12 w-12 text-[#00ffc8]"}),(0,b.jsx)("p",{className:"text-white font-medium",children:Z.name}),(0,b.jsxs)("p",{className:"text-xs text-[#6b7b9a]",children:[aA(Z.size)," - ",Z.type||"Unknown type"]}),(0,b.jsx)(e.Button,{variant:"ghost",size:"sm",className:"text-[#6b7b9a] hover:text-red-400",onClick:a=>{a.stopPropagation(),$(null),ar.current&&(ar.current.value="")},children:"Remove"})]}):(0,b.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,b.jsx)(m,{className:"h-12 w-12 text-[#6b7b9a]"}),(0,b.jsx)("p",{className:"text-[#6b7b9a]",children:"Click or drag file to upload"}),(0,b.jsx)("p",{className:"text-xs text-[#4a5568]",children:"PDF, Images, Documents up to 50MB"})]})]})]}),T&&(0,b.jsxs)("div",{className:"space-y-2 p-4 bg-[#0d1520] rounded-lg border border-[#1a2744]",children:[(0,b.jsxs)("div",{className:"flex justify-between text-xs",children:[(0,b.jsx)("span",{className:"text-[#6b7b9a]",children:X}),(0,b.jsxs)("span",{className:"text-[#00ffc8]",children:[V,"%"]})]}),(0,b.jsx)(i.Progress,{value:V,className:"h-2"})]}),(0,b.jsxs)(e.Button,{onClick:ax,disabled:!Z||!a||a.length<6||T,className:"w-full bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white",children:[(0,b.jsx)(n.Lock,{className:"h-4 w-4 mr-2"}),T?"Encrypting...":"Encrypt & Store in Vault"]})]})]})}),(0,b.jsx)(j.TabsContent,{value:"vault",children:(0,b.jsxs)(d.Card,{className:"bg-[#0a1628]/80 border-[#1a2744]",children:[(0,b.jsxs)(d.CardHeader,{children:[(0,b.jsxs)(d.CardTitle,{className:"text-white flex items-center gap-2",children:[(0,b.jsx)(u.Database,{className:"h-5 w-5 text-purple-400"}),"Encrypted Vault"]}),(0,b.jsx)(d.CardDescription,{className:"text-[#6b7b9a]",children:"Your encrypted documents - only you can decrypt them with your PIN"})]}),(0,b.jsx)(d.CardContent,{children:0===R.length?(0,b.jsxs)("div",{className:"text-center py-12",children:[(0,b.jsx)(v,{className:"h-16 w-16 mx-auto text-[#1a2744] mb-4"}),(0,b.jsx)("p",{className:"text-[#6b7b9a]",children:"No encrypted files yet"}),(0,b.jsx)("p",{className:"text-xs text-[#4a5568] mt-1",children:"Upload and encrypt a document to get started"})]}):(0,b.jsx)("div",{className:"space-y-3 max-h-[500px] overflow-y-auto",children:R.map(a=>(0,b.jsx)("div",{className:"p-4 rounded-lg bg-[#0d1520] border border-[#1a2744] hover:border-purple-500/30 transition-all",children:(0,b.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,b.jsxs)("div",{className:"flex items-start gap-3 min-w-0 flex-1",children:[(0,b.jsx)("div",{className:"p-2 rounded-lg bg-purple-500/20 flex-shrink-0",children:(0,b.jsx)(n.Lock,{className:"h-5 w-5 text-purple-400"})}),(0,b.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,b.jsx)("p",{className:"text-white font-medium truncate",children:a.originalName}),(0,b.jsxs)("div",{className:"flex flex-wrap items-center gap-2 mt-1 text-xs text-[#6b7b9a]",children:[(0,b.jsxs)("span",{children:[aA(a.originalSize)," → ",aA(a.encryptedSize)]}),(0,b.jsx)("span",{children:"•"}),(0,b.jsx)("span",{children:a.encryptedAt.toLocaleString()})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 mt-2",children:[(0,b.jsxs)("code",{className:"text-xs bg-[#1a2744] px-2 py-1 rounded text-[#00ffc8] font-mono",children:["SHA256: ",a.checksum]}),(0,b.jsx)(e.Button,{variant:"ghost",size:"icon",className:"h-6 w-6 text-[#6b7b9a] hover:text-[#00ffc8]",onClick:()=>{var b;return b=a.checksum,void(navigator.clipboard.writeText(b),ai("Checksum copied to clipboard!"))},children:(0,b.jsx)(E.Copy,{className:"h-3 w-3"})})]})]})]}),(0,b.jsx)("div",{className:"flex flex-col gap-2",children:ap===a.id?(0,b.jsxs)("div",{className:"flex flex-col gap-2 p-3 bg-[#1a2744] rounded-lg",children:[(0,b.jsx)(f.Input,{type:"password",value:_,onChange:a=>aa(a.target.value),placeholder:"Enter PIN",className:"bg-[#0d1520] border-[#2a3a5a] text-white text-sm h-8"}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsxs)(e.Button,{size:"sm",onClick:()=>ay(a),disabled:ad===a.id,className:"bg-[#00ffc8] text-[#0a0e1a] hover:bg-[#00ffc8]/90 text-xs h-7",children:[ad===a.id?(0,b.jsx)(F.RefreshCw,{className:"h-3 w-3 animate-spin"}):(0,b.jsx)(y.Unlock,{className:"h-3 w-3 mr-1"}),"Decrypt"]}),(0,b.jsx)(e.Button,{size:"sm",variant:"ghost",onClick:()=>{aq(null),aa("")},className:"text-[#6b7b9a] text-xs h-7",children:"Cancel"})]})]}):(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsxs)(e.Button,{size:"sm",onClick:()=>aq(a.id),className:"bg-[#00ffc8]/20 text-[#00ffc8] border border-[#00ffc8]/30 hover:bg-[#00ffc8]/30",children:[(0,b.jsx)(y.Unlock,{className:"h-4 w-4 mr-1"}),"Decrypt"]}),(0,b.jsxs)(e.Button,{size:"sm",onClick:()=>(a=>{try{let b={version:"1.0",name:a.originalName,originalSize:a.originalSize,encryptedAt:a.encryptedAt.toISOString(),type:a.type,checksum:a.checksum,saltHex:Array.from(a.salt).map(a=>a.toString(16).padStart(2,"0")).join(""),ivHex:Array.from(a.iv).map(a=>a.toString(16).padStart(2,"0")).join("")},c=new TextEncoder().encode(JSON.stringify(b)),d=new Uint32Array([c.length]),e=new Uint8Array(4+c.length+a.encryptedData.byteLength);e.set(new Uint8Array(d.buffer),0),e.set(c,4),e.set(new Uint8Array(a.encryptedData),4+c.length);let f=new Blob([e],{type:"application/x-pgvault"}),g=URL.createObjectURL(f),h=document.createElement("a");h.href=g,h.download=`${a.originalName}.pgvault`,h.style.display="none",document.body.appendChild(h),h.click(),setTimeout(()=>{document.body.removeChild(h),URL.revokeObjectURL(g)},100),ai(`Encrypted backup "${a.originalName}.pgvault" downloaded!`)}catch(a){console.error("Download error:",a),ag("Failed to download encrypted backup.")}})(a),className:"bg-[#00a8ff]/20 text-[#00a8ff] border border-[#00a8ff]/30 hover:bg-[#00a8ff]/30",children:[(0,b.jsx)(x.Download,{className:"h-4 w-4 mr-1"}),"Backup"]}),(0,b.jsx)(e.Button,{size:"sm",variant:"ghost",onClick:()=>{var b;let c;return b=a.id,c=R.find(a=>a.id===b),void(S(a=>a.filter(a=>a.id!==b)),c&&ai(`"${c.originalName}" removed from vault.`))},className:"text-red-400 hover:text-red-300 hover:bg-red-500/10",children:(0,b.jsx)(w.Trash2,{className:"h-4 w-4"})})]})})]})},a.id))})})]})}),(0,b.jsx)(j.TabsContent,{value:"import",children:(0,b.jsxs)(d.Card,{className:"bg-[#0a1628]/80 border-[#1a2744]",children:[(0,b.jsxs)(d.CardHeader,{children:[(0,b.jsxs)(d.CardTitle,{className:"text-white flex items-center gap-2",children:[(0,b.jsx)(C,{className:"h-5 w-5 text-[#00a8ff]"}),"Import Vault Backup"]}),(0,b.jsx)(d.CardDescription,{className:"text-[#6b7b9a]",children:"Import a previously exported .pgvault encrypted backup file"})]}),(0,b.jsxs)(d.CardContent,{className:"space-y-6",children:[(0,b.jsxs)("div",{className:`border-2 border-dashed rounded-lg p-8 text-center transition-all cursor-pointer ${al?"border-[#00a8ff]/50 bg-[#00a8ff]/5":"border-[#1a2744] hover:border-[#00a8ff]/30"}`,onClick:()=>as.current?.click(),children:[(0,b.jsx)("input",{ref:as,type:"file",className:"hidden",accept:".pgvault",onChange:a=>am(a.target.files?.[0]||null)}),al?(0,b.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,b.jsx)(G,{className:"h-12 w-12 text-[#00a8ff]"}),(0,b.jsx)("p",{className:"text-white font-medium",children:al.name}),(0,b.jsx)("p",{className:"text-xs text-[#6b7b9a]",children:aA(al.size)})]}):(0,b.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,b.jsx)(D,{className:"h-12 w-12 text-[#6b7b9a]"}),(0,b.jsx)("p",{className:"text-[#6b7b9a]",children:"Select .pgvault backup file"}),(0,b.jsx)("p",{className:"text-xs text-[#4a5568]",children:"Encrypted backup files only"})]})]}),(0,b.jsx)(e.Button,{onClick:az,disabled:!al||an,className:"w-full bg-gradient-to-r from-[#00a8ff] to-[#00ffc8] hover:opacity-90 text-[#0a0e1a]",children:an?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(F.RefreshCw,{className:"h-4 w-4 mr-2 animate-spin"}),"Importing..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(C,{className:"h-4 w-4 mr-2"}),"Import to Vault"]})}),(0,b.jsx)("div",{className:"bg-[#0f1a2e] rounded-lg p-4 border border-[#1a2744]",children:(0,b.jsxs)("p",{className:"text-sm text-[#6b7b9a]",children:[(0,b.jsx)("strong",{className:"text-white",children:"Note:"})," You will still need the original PIN to decrypt imported files. The encryption key is derived from your PIN, not stored in the backup."]})})]})]})})]})]})}a.s(["default",()=>J],54600)}];

//# sourceMappingURL=app_dashboard_document-vault_page_tsx_e4738ddc._.js.map